<html lang="en_US">

<head>
  <title>Speed up your algorithms (python) : Solution</title>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <link href="../../style/ontologenius_api.css" rel="stylesheet" type="text/css">
  <link href="../../style/ontologenius_tabs.css" rel="stylesheet" type="text/css">
  <link href="../../images/favicon.ico" rel="shortcut icon">
  <link href="../../images/favicon-32x32.png" rel="icon" type="image/png">
  <link href="../../images/favicon-16x16.png" rel="icon" type="image/png">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
  <script src="../../scripts/tabs.js" type="text/javascript"></script>
</head>

<body>
  <div class="header" id="header">
    <header class="fixed" id="navbar">
      <div class="container">
          <div class="navbar-header">
            <div id="header-buttons">
                <ul id="header-ul" data-event="hover_intent" data-effect="fade" data-effect-speed="500">
                    <li class="header-item"><a class="header-link" href="https://github.com/sarthou/ontologenius" tabindex="0"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/Octicons-mark-github.svg/1200px-Octicons-mark-github.svg.png" alt="github" width="40px" height="40px"/></a></li>
                </ul>
            </div>
            <a class="navbar-icon" href="../../index.html">
              <img src="../../images/ontologenius.png " alt="ontologenius" width="65px" height="65px"/>
            </a>
        </div>
      </div>
    </header>
  </div>

  <div class="main">

    <div class="navigationbar">
      <ul class="sub-navigation">
        <li><a href="https://github.com/sarthou/ontologenius/tree/master/src/API/ontologenius">C++ API sources</a></li>
        <li><a href="https://github.com/sarthou/ontologenius/tree/master/include/ontologenius/API/ontologenius">C++ API headers</a></li>
        <li><a href="https://github.com/sarthou/ontologenius/tree/master/ontopy/ontologenius">Pyhton API sources</a></li>
        <li><a href="https://gitlab.com/sarthou/ontologenius/pipelines">Pipelines</a></li>
      </ul>
      <h1>Ontologenius Python Documentation</h1>
    </div>

    <div class="content">
      <div class="sidebar" style="transition: all 0.2s ease-out 0s; top: 0px;">
        <div class="contents">
          <div id="contents-toggle" class=""></div>
          <h3>Contents</h3>
          <ul style="display: block;">
            <li class="level1"><a href="Overview.html">1. Overview</a></li>
            <li class="level1"><a href="Solution.html"><b>2. Solution</b></a></li>
          </ul>
        </div>

        <div class="contents">
          <div id="contents-toggle" class=""></div>
          <h3>Getting Start</h3>
          <ul style="display: block;">
            <li class="level1"><a href="../../Download.html">Download</a></li>
            <li class="level1">Install Ontologenius</li>
            <li class="level2"><a href="../../InstallOntologeniusROS1.html">- Install with ROS1</a></li>
            <li class="level2"><a href="../../InstallOntologeniusROS2.html">- Install with ROS2</a></li>
            <li class="level1"><a href="../../SetUp.html">Set Up Your Environnement</a></li>
            <li class="level1"><a href="../../cpp_Tutorials/Tutorials.html">Cpp Tutorials</a></li>
            <li class="level1"><a href="../Tutorials.html">Python Tutorials</a></li>
          </ul>
        </div>

        <div class="contents">
          <div id="contents-toggle" class=""></div>
          <h3>Overview</h3>
          <ul style="display: block;">
            <li class="level1"><a href="../../overview/launchers.html">Launchers</a></li>
            <li class="level1"><a href="../../overview/ontoloGUI.html">OntoloGUI</a></li>
            <li class="level1"><a href="../../overview/reasonersConfiguration.html">Reasoners configuration</a></li>
            <!--li class="level1"><a href="plugins.html">Plugins</a></li-->
          </ul>
        </div>

        <div class="contents">
          <div id="contents-toggle" class=""></div>
          <h3>
            <i class="fas fa-angle-right"></i>
            <a href="../../cpp_API/CppAPI.html">
              All C++ Classes
            </a>
          </h3>
          <h3>
            <i class="fas fa-angle-down"></i>
            <a href="../../python_API/PythonAPI.html">
              All Python Classes
            </a>
          </h3>
          <ul style="display: block;">
            <li class="level1"><a href="../../python_API/ActionClient.html">ActionClient</a></li>
            <li class="level1"><a href="../../python_API/ClassClient.html">ClassClient</a></li>
            <li class="level1"><a href="../../python_API/ClientBase.html">ClientBase</a></li>
            <li class="level1"><a href="../../python_API/DataPropertyClient.html">DataPropertyClient</a></li>
            <li class="level1"><a href="../../python_API/FeederPublisher.html">FeederPublisher</a></li>
            <li class="level1"><a href="../../python_API/IndividualClient.html">IndividualClient</a></li>
            <li class="level1"><a href="../../python_API/ManagerClient.html">ManagerClient</a></li>
            <li class="level1"><a href="../../python_API/ObjectPropertyClient.html">ObjectPropertyClient</a></li>
            <li class="level1"><a href="../../python_API/OntologiesManipulator.html">OntologiesManipulator</a></li>
            <li class="level1"><a href="../../python_API/OntologyClient.html">OntologyClient</a></li>
            <li class="level1"><a href="../../python_API/OntologyManipulator.html">OntologyManipulator</a></li>
            <li class="level1"><a href="../../python_API/ReasonerClient.html">ReasonerClient</a></li>
            <li class="level1"><a href="../../python_API/SparqlClient.html">SparqlClient</a></li>
            <li class="level2"><b>Index based classes</b></li>
            <li class="level1"><a href="../../python_API/ClassIndexClient.html">ClassIndexClient</a></li>
            <li class="level1"><a href="../../python_API/ClientBaseIndex.html">ClientBaseIndex</a></li>
            <li class="level1"><a href="../../python_API/ConversionClient.html">ConversionClient</a></li>
            <li class="level1"><a href="../../python_API/DataPropertyIndexClient.html">DataPropertyIndexClient</a></li>
            <li class="level1"><a href="../../python_API/IndividualIndexClient.html">IndividualIndexClient</a></li>
            <li class="level1"><a href="../../python_API/ObjectPropertyIndexClient.html">ObjectPropertyIndexClient</a></li>
            <li class="level1"><a href="../../python_API/OntologyIndexClient.html">OntologyIndexClient</a></li>
            <li class="level1"><a href="../../python_API/OntologyManipulatorIndex.html">OntologyManipulatorIndex</a></li>
            <li class="level1"><a href="../../python_API/SparqlIndexClient.html">SparqlIndexClient</a></li>
          </ul>
        </div>
      </div>

      <div class="context">
        <div class="toturial-header">
          <h1 class="title">Speed up your algorithms (python)</h1>
          <a class="toturial-subheader">
            <div class="tutorial-subheader__main-icon">
              <i class="fas fa-brain"></i>
            </div>
            <div class="toturial-subheader__title">
              <h2 class="title">Run Forrest! Run !</h2>
            </div>
          </a>
        </div>

        <h1 class="title">Solution</h1>

        <p>Here is a possible solution.
           You can note that we have queried the indexes of the properties "isAlong" and "hasAlong" only once at the initialisation to avoid to recompute static information.
           In a more usual way using classes, you could create a map with all the "static" indexes.
       </p>

        <div class="lang-tabs container">
          <div aria-label="Tabbed content" class="closeable" role="tablist">
            <button aria-controls="panel-0-Ros1" aria-selected="true" class="lang-tabs-tab group-tab" id="tab-0-Ros1" name="Ros1" role="tab" tabindex="0">ROS1</button>
            <button aria-controls="panel-0-Ros2" aria-selected="false" class="lang-tabs-tab group-tab" id="tab-0-Ros2" name="Ros2" role="tab" tabindex="-1">ROS2</button>
          </div>
          
          <div aria-labelledby="tab-0-Ros1" class="lang-tabs-panel group-tab" id="panel-0-Ros1" name="Ros1" role="tabpanel" tabindex="0">
            <div class="highlight-python">
              <div class="code_block cpp_code" style="counter-reset:code_line 0;">
                <div class="code_line"><span class="py_comment">#!/usr/bin/env python</span></div>
                <div class="code_line"><br></div>
                <div class="code_line"><span class="py_import">import</span> <span class="py_imported">rospy</span></div>
                <div class="code_line"><br></div>
                <div class="code_line"><span class="py_import">from</span> <span class="py_imported">ontologenius</span> <span class="py_import">import</span> <span class="py_imported">OntologyManipulatorIndex</span></div>
                <div class="code_line"><br></div>
                <div class="code_line"><span class="py_var">_onto</span> = <span class="py_key">None</span></div>
                <div class="code_line"><span class="py_var">isAlong_index</span> = <span class="py_value">0</span></div>
                <div class="code_line"><span class="py_var">hasAlong_index</span> = <span class="py_value">0</span></div>
                <div class="code_line"><br></div>
                <div class="code_line"><span class="py_key">def</span> <span class="py_function">displayRoute</span>(<span class="py_var">route</span>):</div>
                <div class="code_line">    <span class="py_function">print</span>(<span class="py_string">'Route:'</span>)</div>
                <div class="code_line">    <span class="py_var">route_id</span> = <span class="py_var">_onto</span>.conversion.<span class="py_function">individualsIndexes2Ids</span>(<span class="py_var">route</span>)</div>
                <div class="code_line">    <span class="py_op">for</span> <span class="py_var">point</span> <span class="py_op">in</span> <span class="py_var">route_id</span>:</div>
                <div class="code_line">        <span class="py_function">print</span>(<span class="py_string">'- '</span> + <span class="py_var">point</span>)</div>
                <div class="code_line"><br></div>
                <div class="code_line"><span class="py_key">def</span> <span class="py_function">findRoutes</span>(<span class="py_var">path_from</span>, <span class="py_var">path_to</span>, <span class="py_var">selector</span>):</div>
                <div class="code_line">    <span class="py_key">global</span> <span class="py_var">_onto</span></div>
                <div class="code_line">    <span class="py_var">routes</span> = []</div>
                <div class="code_line">    <span class="py_var">routes</span>.<span class="py_function">insert</span>(<span class="py_value">0</span>, [<span class="py_var">path_from</span>])</div>
                <div class="code_line"><br></div>
                <div class="code_line">    <span class="py_var">found</span> = <span class="py_key">False</span></div>
                <div class="code_line">    <span class="py_op">if</span> <span class="py_var">path_from</span> == <span class="py_var">path_to</span>:</div>
                <div class="code_line">        <span class="py_var">found</span> = <span class="py_key">True</span></div>
                <div class="code_line"><br></div>
                <div class="code_line">    <span class="py_op">while</span> <span class="py_op">not</span> <span class="py_var">found</span>:</div>
                <div class="code_line">        <span class="py_var">tmp_routes</span> = []</div>
                <div class="code_line">        <span class="py_op">for</span> <span class="py_var">route</span> <span class="py_op">in</span> <span class="py_var">routes</span>:</div>
                <div class="code_line">            <span class="py_var">size</span> = <span class="py_function">len</span>(<span class="py_var">route</span>) - <span class="py_value">1</span></div>
                <div class="code_line">            <span class="py_var">intersections</span> = <span class="py_var">_onto</span>.individuals.<span class="py_function">getFrom</span>(<span class="py_var">isAlong_index</span>, <span class="py_var">route</span>[<span class="py_var">size</span>])</div>
                <div class="code_line"><br></div>
                <div class="code_line">            <span class="py_op">for</span> <span class="py_var">intersection</span> <span class="py_op">in</span> <span class="py_var">intersections</span>:</div>
                <div class="code_line">                <span class="py_var">paths</span> = <span class="py_var">_onto</span>.individuals.<span class="py_function">getOn</span>(<span class="py_var">intersection</span>, <span class="py_var">isAlong_index</span>, <span class="py_var">selector</span>)</div>
                <div class="code_line"><br></div>
                <div class="code_line">                <span class="py_comment"># erase paths already present in the current route</span></div>
                <div class="code_line">                <span class="py_var">paths</span> = [<span class="py_var">path</span> <span class="py_op">for</span> <span class="py_var">path</span> <span class="py_op">in</span> <span class="py_var">paths</span> <span class="py_op">if</span> <span class="py_op">not</span> <span class="py_var">path</span> <span class="py_op">in</span> <span class="py_var">route</span>]</div>
                <div class="code_line"><br></div>
                <div class="code_line">                <span class="py_op">for</span> <span class="py_var">path</span> <span class="py_op">in</span> <span class="py_var">paths</span>:</div>
                <div class="code_line">                    <span class="py_var">tmp</span> = <span class="py_imported">list</span>(<span class="py_var">route</span>)</div>
                <div class="code_line">                    <span class="py_var">tmp</span>.<span class="py_function">insert</span>(<span class="py_function">len</span>(<span class="py_var">tmp</span>), <span class="py_var">intersection</span>)</div>
                <div class="code_line">                    <span class="py_var">tmp</span>.<span class="py_function">insert</span>(<span class="py_function">len</span>(<span class="py_var">tmp</span>), <span class="py_var">path</span>)</div>
                <div class="code_line">                    <span class="py_var">tmp_routes</span>.<span class="py_function">insert</span>(<span class="py_function">len</span>(<span class="py_var">tmp_routes</span>), <span class="py_var">tmp</span>)</div>
                <div class="code_line">                    <span class="py_op">if</span> <span class="py_var">path</span> == <span class="py_var">path_to</span>:</div>
                <div class="code_line">                        <span class="py_var">found</span> = <span class="py_key">True</span></div>
                <div class="code_line"><br></div>
                <div class="code_line">        <span class="py_var">routes</span> = <span class="py_imported">list</span>(<span class="py_var">tmp_routes</span>)</div>
                <div class="code_line"><br></div>
                <div class="code_line">    <span class="py_op">return</span> <span class="py_var">routes</span></div>
                <div class="code_line"><br></div>
                <div class="code_line"><span class="py_key">def</span> <span class="py_function">find</span>(<span class="py_var">place_from</span>, <span class="py_var">place_to</span>, <span class="py_var">selector</span>):</div>
                <div class="code_line">    <span class="py_key">global</span> <span class="py_var">_onto</span></div>
                <div class="code_line">    <span class="py_var">res_route</span> = []</div>
                <div class="code_line">    <span class="py_var">min_size</span> = <span class="py_value">100</span></div>
                <div class="code_line"><br></div>
                <div class="code_line">    <span class="py_var">paths_from</span> = <span class="py_var">_onto</span>.individuals.<span class="py_function">getOn</span>(<span class="py_var">place_from</span>, <span class="py_var">isAlong_index</span>, <span class="py_var">selector</span>)</div>
                <div class="code_line">    <span class="py_var">paths_to</span> = <span class="py_var">_onto</span>.individuals.<span class="py_function">getFrom</span>(<span class="py_var">hasAlong_index</span>, <span class="py_var">place_to</span>, <span class="py_var">selector</span>)</div>
                <div class="code_line"><br></div>
                <div class="code_line">    <span class="py_op">for</span> <span class="py_var">path_from</span> <span class="py_op">in</span> <span class="py_var">paths_from</span>:</div>
                <div class="code_line">        <span class="py_op">for</span> <span class="py_var">path_to</span> <span class="py_op">in</span> <span class="py_var">paths_to</span>:</div>
                <div class="code_line">            <span class="py_var">routes</span> = <span class="py_function">findRoutes</span>(<span class="py_var">path_from</span>, <span class="py_var">path_to</span>, <span class="py_var">selector</span>)</div>
                <div class="code_line">            <span class="py_op">for</span> <span class="py_var">route</span> <span class="py_op">in</span> <span class="py_var">routes</span>:</div>
                <div class="code_line">                <span class="py_op">if</span> <span class="py_var">route</span>[<span class="py_function">len</span>(<span class="py_var">route</span>) - <span class="py_value">1</span>] == <span class="py_var">path_to</span>:</div>
                <div class="code_line">                    <span class="py_op">if</span> <span class="py_function">len</span>(<span class="py_var">route</span>) < <span class="py_var">min_size</span>:</div>
                <div class="code_line">                        <span class="py_var">min_size</span> = <span class="py_function">len</span>(<span class="py_var">route</span>)</div>
                <div class="code_line">                        <span class="py_var">res_route</span> = <span class="py_var">route</span></div>
                <div class="code_line"><br></div>
                <div class="code_line">    <span class="py_op">return</span> <span class="py_var">res_route</span></div>
                <div class="code_line"><br></div>
                <div class="code_line"><span class="py_key">def</span> <span class="py_function">main</span>()</span>:</div>
                <div class="code_line">    <span class="py_key">global</span> <span class="py_var">_onto</span></div>
                <div class="code_line">    <span class="py_imported">rospy</span>.<span class="py_function">init_node</span>(<span class="py_string">'find_our_way'</span>)</div>
                <div class="code_line"><br></div>
                <div class="code_line">    <span class="py_var">_onto</span> = <span class="py_imported">OntologyManipulatorIndex</span>()</div>
                <div class="code_line">    <span class="py_var">_onto</span>.<span class="py_function">close</span>()</div>
                <div class="code_line"><br></div>
                <div class="code_line">    <span class="py_var">isAlong_index</span> = <span class="py_var">_onto</span>.conversion.<span class="py_function">objectPropertiesId2Index</span>(<span class="py_string">'isAlong'</span>)</div>
                <div class="code_line">    <span class="py_var">hasAlong_index</span> = <span class="py_var">_onto</span>.conversion.<span class="py_function">objectPropertiesId2Index</span>(<span class="py_string">'hasAlong'</span>)</div>
                <div class="code_line"><br></div>
                <div class="code_line">    <span class="py_var">route</span> = <span class="py_function">find</span>(<span class="py_var">_onto</span>.conversion.<span class="py_function">individualsId2Index</span>(<span class="py_string">'pub'</span>),</div>
                <div class="code_line">                 <span class="py_var">_onto</span>.conversion.<span class="py_function">individualsId2Index</span>(<span class="py_string">'house'</span>),</div>
                <div class="code_line">                 <span class="py_var">_onto</span>.conversion.<span class="py_function">classesId2Index</span>(<span class="py_string">'>path'</span>))</div>
                <div class="code_line">    <span class="py_function">displayRoute</span>(<span class="py_var">route</span>)</div>
                <div class="code_line"><br></div>
                <div class="code_line">    <span class="py_var">route</span> = <span class="py_function">find</span>(<span class="py_var">_onto</span>.conversion.<span class="py_function">individualsId2Index</span>(<span class="py_string">'house'</span>),</div>
                <div class="code_line">                 <span class="py_var">_onto</span>.conversion.<span class="py_function">individualsId2Index</span>(<span class="py_string">'car'</span>),</div>
                <div class="code_line">                 <span class="py_var">_onto</span>.conversion.<span class="py_function">classesId2Index</span>(<span class="py_string">'path'</span>))</div>
                <div class="code_line">    <span class="py_function">displayRoute</span>(<span class="py_var">route</span>)</div>
                <div class="code_line"><br></div>
                <div class="code_line">    <span class="py_var">route</span> = <span class="py_function">find</span>(<span class="py_var">_onto</span>.conversion.<span class="py_function">individualsId2Index</span>(<span class="py_string">'car'</span>),</div>
                <div class="code_line">                 <span class="py_var">_onto</span>.conversion.<span class="py_function">individualsId2Index</span>(<span class="py_string">'house'</span>),</div>
                <div class="code_line">                 <span class="py_var">_onto</span>.conversion.<span class="py_function">classesId2Index</span>(<span class="py_string">'road'</span>))</div>
                <div class="code_line">    <span class="py_function">displayRoute</span>(<span class="py_var">route</span>)</div>
                <div class="code_line"><br></div>
                <div class="code_line"><span class="py_op">if</span> <span class="py_var">__name__</span> == <span class="py_string">'__main__'</span>:</div>
                <div class="code_line">    <span class="py_function">main</span>()</span>:</div>
              </div>
            </div>
          </div>
          
          <div aria-labelledby="tab-0-Ros2" class="lang-tabs-panel group-tab" id="panel-0-Ros2" name="Ros2" role="tabpanel" tabindex="0" hidden="true">
            <div class="highlight-python">
              <div class="code_block cpp_code" style="counter-reset:code_line 0;">
                <div class="code_line"><span class="py_comment">#!/usr/bin/env python</span></div>
                <div class="code_line"><br></div>
                <div class="code_line"><span class="py_import">import</span> <span class="py_imported">rclpy</span></div>
                <div class="code_line"><br></div>
                <div class="code_line"><span class="py_import">from</span> <span class="py_imported">ontopy</span> <span class="py_import">import</span> <span class="py_imported">OntologyManipulatorIndex</span>, <span class="py_imported">Ontoros</span></div>
                <div class="code_line"><br></div>
                <div class="code_line"><span class="py_var">_onto</span> = <span class="py_key">None</span></div>
                <div class="code_line"><span class="py_var">isAlong_index</span> = <span class="py_value">0</span></div>
                <div class="code_line"><span class="py_var">hasAlong_index</span> = <span class="py_value">0</span></div>
                <div class="code_line"><br></div>
                <div class="code_line"><span class="py_key">def</span> <span class="py_function">displayRoute</span>(<span class="py_var">route</span>):</div>
                <div class="code_line">    <span class="py_imported">Ontoros</span>().<span class="py_function">get_logger</span>().<span class="py_function">info</span>(<span class="py_string">'Route:'</span>)</div>
                <div class="code_line">    <span class="py_var">route_id</span> = <span class="py_var">_onto</span>.conversion.<span class="py_function">individualsIndexes2Ids</span>(<span class="py_var">route</span>)</div>
                <div class="code_line">    <span class="py_op">for</span> <span class="py_var">point</span> <span class="py_op">in</span> <span class="py_var">route_id</span>:</div>
                <div class="code_line">        <span class="py_imported">Ontoros</span>().<span class="py_function">get_logger</span>().<span class="py_function">info</span>(<span class="py_string">'- '</span> + <span class="py_var">point</span>)</div>
                <div class="code_line"><br></div>
                <div class="code_line"><span class="py_key">def</span> <span class="py_function">findRoutes</span>(<span class="py_var">path_from</span>, <span class="py_var">path_to</span>, <span class="py_var">selector</span>):</div>
                <div class="code_line">    <span class="py_key">global</span> <span class="py_var">_onto</span></div>
                <div class="code_line">    <span class="py_var">routes</span> = []</div>
                <div class="code_line">    <span class="py_var">routes</span>.<span class="py_function">insert</span>(<span class="py_value">0</span>, [<span class="py_var">path_from</span>])</div>
                <div class="code_line"><br></div>
                <div class="code_line">    <span class="py_var">found</span> = <span class="py_key">False</span></div>
                <div class="code_line">    <span class="py_op">if</span> <span class="py_var">path_from</span> == <span class="py_var">path_to</span>:</div>
                <div class="code_line">        <span class="py_var">found</span> = <span class="py_key">True</span></div>
                <div class="code_line"><br></div>
                <div class="code_line">    <span class="py_op">while</span> <span class="py_op">not</span> <span class="py_var">found</span>:</div>
                <div class="code_line">        <span class="py_var">tmp_routes</span> = []</div>
                <div class="code_line">        <span class="py_op">for</span> <span class="py_var">route</span> <span class="py_op">in</span> <span class="py_var">routes</span>:</div>
                <div class="code_line">            <span class="py_var">size</span> = <span class="py_function">len</span>(<span class="py_var">route</span>) - <span class="py_value">1</span></div>
                <div class="code_line">            <span class="py_var">intersections</span> = <span class="py_var">_onto</span>.individuals.<span class="py_function">getFrom</span>(<span class="py_var">isAlong_index</span>, <span class="py_var">route</span>[<span class="py_var">size</span>])</div>
                <div class="code_line"><br></div>
                <div class="code_line">            <span class="py_op">for</span> <span class="py_var">intersection</span> <span class="py_op">in</span> <span class="py_var">intersections</span>:</div>
                <div class="code_line">                <span class="py_var">paths</span> = <span class="py_var">_onto</span>.individuals.<span class="py_function">getOn</span>(<span class="py_var">intersection</span>, <span class="py_var">isAlong_index</span>, <span class="py_var">selector</span>)</div>
                <div class="code_line"><br></div>
                <div class="code_line">                <span class="py_comment"># erase paths already present in the current route</span></div>
                <div class="code_line">                <span class="py_var">paths</span> = [<span class="py_var">path</span> <span class="py_op">for</span> <span class="py_var">path</span> <span class="py_op">in</span> <span class="py_var">paths</span> <span class="py_op">if</span> <span class="py_op">not</span> <span class="py_var">path</span> <span class="py_op">in</span> <span class="py_var">route</span>]</div>
                <div class="code_line"><br></div>
                <div class="code_line">                <span class="py_op">for</span> <span class="py_var">path</span> <span class="py_op">in</span> <span class="py_var">paths</span>:</div>
                <div class="code_line">                    <span class="py_var">tmp</span> = <span class="py_imported">list</span>(<span class="py_var">route</span>)</div>
                <div class="code_line">                    <span class="py_var">tmp</span>.<span class="py_function">insert</span>(<span class="py_function">len</span>(<span class="py_var">tmp</span>), <span class="py_var">intersection</span>)</div>
                <div class="code_line">                    <span class="py_var">tmp</span>.<span class="py_function">insert</span>(<span class="py_function">len</span>(<span class="py_var">tmp</span>), <span class="py_var">path</span>)</div>
                <div class="code_line">                    <span class="py_var">tmp_routes</span>.<span class="py_function">insert</span>(<span class="py_function">len</span>(<span class="py_var">tmp_routes</span>), <span class="py_var">tmp</span>)</div>
                <div class="code_line">                    <span class="py_op">if</span> <span class="py_var">path</span> == <span class="py_var">path_to</span>:</div>
                <div class="code_line">                        <span class="py_var">found</span> = <span class="py_key">True</span></div>
                <div class="code_line"><br></div>
                <div class="code_line">        <span class="py_var">routes</span> = <span class="py_imported">list</span>(<span class="py_var">tmp_routes</span>)</div>
                <div class="code_line"><br></div>
                <div class="code_line">    <span class="py_op">return</span> <span class="py_var">routes</span></div>
                <div class="code_line"><br></div>
                <div class="code_line"><span class="py_key">def</span> <span class="py_function">find</span>(<span class="py_var">place_from</span>, <span class="py_var">place_to</span>, <span class="py_var">selector</span>):</div>
                <div class="code_line">    <span class="py_key">global</span> <span class="py_var">_onto</span></div>
                <div class="code_line">    <span class="py_var">res_route</span> = []</div>
                <div class="code_line">    <span class="py_var">min_size</span> = <span class="py_value">100</span></div>
                <div class="code_line"><br></div>
                <div class="code_line">    <span class="py_var">paths_from</span> = <span class="py_var">_onto</span>.individuals.<span class="py_function">getOn</span>(<span class="py_var">place_from</span>, <span class="py_var">isAlong_index</span>, <span class="py_var">selector</span>)</div>
                <div class="code_line">    <span class="py_var">paths_to</span> = <span class="py_var">_onto</span>.individuals.<span class="py_function">getFrom</span>(<span class="py_var">hasAlong_index</span>, <span class="py_var">place_to</span>, <span class="py_var">selector</span>)</div>
                <div class="code_line"><br></div>
                <div class="code_line">    <span class="py_op">for</span> <span class="py_var">path_from</span> <span class="py_op">in</span> <span class="py_var">paths_from</span>:</div>
                <div class="code_line">        <span class="py_op">for</span> <span class="py_var">path_to</span> <span class="py_op">in</span> <span class="py_var">paths_to</span>:</div>
                <div class="code_line">            <span class="py_var">routes</span> = <span class="py_function">findRoutes</span>(<span class="py_var">path_from</span>, <span class="py_var">path_to</span>, <span class="py_var">selector</span>)</div>
                <div class="code_line">            <span class="py_op">for</span> <span class="py_var">route</span> <span class="py_op">in</span> <span class="py_var">routes</span>:</div>
                <div class="code_line">                <span class="py_op">if</span> <span class="py_var">route</span>[<span class="py_function">len</span>(<span class="py_var">route</span>) - <span class="py_value">1</span>] == <span class="py_var">path_to</span>:</div>
                <div class="code_line">                    <span class="py_op">if</span> <span class="py_function">len</span>(<span class="py_var">route</span>) < <span class="py_var">min_size</span>:</div>
                <div class="code_line">                        <span class="py_var">min_size</span> = <span class="py_function">len</span>(<span class="py_var">route</span>)</div>
                <div class="code_line">                        <span class="py_var">res_route</span> = <span class="py_var">route</span></div>
                <div class="code_line"><br></div>
                <div class="code_line">    <span class="py_op">return</span> <span class="py_var">res_route</span></div>
                <div class="code_line"><br></div>
                <div class="code_line"><span class="py_key">def</span> <span class="py_function">main</span>()</span>:</div>
                <div class="code_line">    <span class="py_key">global</span> <span class="py_var">_onto</span></div>
                <div class="code_line">    <span class="py_imported">rclpy</span>.<span class="py_function">init</span>()</div>
                <div class="code_line"><br></div>
                <div class="code_line">    <span class="py_var">_onto</span> = <span class="py_imported">OntologyManipulatorIndex</span>()</div>
                <div class="code_line">    <span class="py_var">_onto</span>.<span class="py_function">close</span>()</div>
                <div class="code_line"><br></div>
                <div class="code_line">    <span class="py_var">isAlong_index</span> = <span class="py_var">_onto</span>.conversion.<span class="py_function">objectPropertiesId2Index</span>(<span class="py_string">'isAlong'</span>)</div>
                <div class="code_line">    <span class="py_var">hasAlong_index</span> = <span class="py_var">_onto</span>.conversion.<span class="py_function">objectPropertiesId2Index</span>(<span class="py_string">'hasAlong'</span>)</div>
                <div class="code_line"><br></div>
                <div class="code_line">    <span class="py_var">route</span> = <span class="py_function">find</span>(<span class="py_var">_onto</span>.conversion.<span class="py_function">individualsId2Index</span>(<span class="py_string">'pub'</span>),</div>
                <div class="code_line">                 <span class="py_var">_onto</span>.conversion.<span class="py_function">individualsId2Index</span>(<span class="py_string">'house'</span>),</div>
                <div class="code_line">                 <span class="py_var">_onto</span>.conversion.<span class="py_function">classesId2Index</span>(<span class="py_string">'>path'</span>))</div>
                <div class="code_line">    <span class="py_function">displayRoute</span>(<span class="py_var">route</span>)</div>
                <div class="code_line"><br></div>
                <div class="code_line">    <span class="py_var">route</span> = <span class="py_function">find</span>(<span class="py_var">_onto</span>.conversion.<span class="py_function">individualsId2Index</span>(<span class="py_string">'house'</span>),</div>
                <div class="code_line">                 <span class="py_var">_onto</span>.conversion.<span class="py_function">individualsId2Index</span>(<span class="py_string">'car'</span>),</div>
                <div class="code_line">                 <span class="py_var">_onto</span>.conversion.<span class="py_function">classesId2Index</span>(<span class="py_string">'path'</span>))</div>
                <div class="code_line">    <span class="py_function">displayRoute</span>(<span class="py_var">route</span>)</div>
                <div class="code_line"><br></div>
                <div class="code_line">    <span class="py_var">route</span> = <span class="py_function">find</span>(<span class="py_var">_onto</span>.conversion.<span class="py_function">individualsId2Index</span>(<span class="py_string">'car'</span>),</div>
                <div class="code_line">                 <span class="py_var">_onto</span>.conversion.<span class="py_function">individualsId2Index</span>(<span class="py_string">'house'</span>),</div>
                <div class="code_line">                 <span class="py_var">_onto</span>.conversion.<span class="py_function">classesId2Index</span>(<span class="py_string">'road'</span>))</div>
                <div class="code_line">    <span class="py_function">displayRoute</span>(<span class="py_var">route</span>)</div>
                <div class="code_line"><br></div>
                <div class="code_line"><span class="py_op">if</span> <span class="py_var">__name__</span> == <span class="py_string">'__main__'</span>:</div>
                <div class="code_line">    <span class="py_function">main</span>()</span>:</div>
              </div>
            </div>
          </div>
        </div>

        <nav class="course-pagination">
          <a href="Overview.html" class="course-pagination__btn">
            <i class="fas fa-angle-left"></i>
            <span>Overview</span>
          </a>
          <span class="course-pagination__separator"></span>
          <a href="../Tutorials.html" class="course-pagination__btn">
            <span>Tutorials</span>
            <i class="fas fa-angle-right"></i>
          </a>
        </nav>

      </div>
    </div>

  </div>
</body>

<footer>
  <div align="center">
    <p>
      Brought to you by:
      <a class="laas_logo" href="https://www.laas.fr/public/">
        <img src="../../images/LogoLAAS-2016_BW.png " alt="LAAS-CNRS" height="60px"/>
      </a>
    </p>
  </div>
</footer>

</html>
