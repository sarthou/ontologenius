<html lang="en_US">

<head>
  <title>Use inheritance for my first program (cpp) : Find the most relevant intruder</title>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <link href="../../style/ontologenius_api.css" rel="stylesheet" type="text/css">
  <link href="../../images/favicon.ico" rel="shortcut icon">
  <link href="../../images/favicon-32x32.png" rel="icon" type="image/png">
  <link href="../../images/favicon-16x16.png" rel="icon" type="image/png">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
</head>

<body>
  <div class="header" id="header">
    <header class="fixed" id="navbar">
      <div class="container">
          <div class="navbar-header">
            <div id="header-buttons">
                <ul id="header-ul" data-event="hover_intent" data-effect="fade" data-effect-speed="500">
                    <li class="header-item"><a class="header-link" href="https://github.com/sarthou/ontologenius" tabindex="0"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/Octicons-mark-github.svg/1200px-Octicons-mark-github.svg.png" alt="github" width="40px" height="40px"/></a></li>
                </ul>
            </div>
            <a class="navbar-icon" href="../../index.html">
              <img src="../../images/ontologenius.png " alt="ontologenius" width="65px" height="65px"/>
            </a>
        </div>
      </div>
    </header>
  </div>

  <div class="main">

    <div class="navigationbar">
      <ul class="sub-navigation">
        <li><a href="https://github.com/sarthou/ontologenius/tree/master/src/API/ontologenius">C++ API sources</a></li>
        <li><a href="https://github.com/sarthou/ontologenius/tree/master/include/ontologenius/API/ontologenius">C++ API headers</a></li>
        <li><a href="https://github.com/sarthou/ontologenius/tree/master/ontopy/ontologenius">Pyhton API sources</a></li>
        <li><a href="https://gitlab.com/sarthou/ontologenius/pipelines">Pipelines</a></li>
      </ul>
      <h1>Ontologenius Cpp Documentation</h1>
    </div>

    <div class="content">
      <div class="sidebar" style="transition: all 0.2s ease-out 0s; top: -270px;">
        <div class="contents">
          <div id="contents-toggle" class=""></div>
          <h3>Contents</h3>
          <ul style="display: block;">
            <li class="level1"><a href="settingUpTheProgram.html">1. Setting up the program</a></li>
            <li class="level1"><a href="LaunchTheProgram.html">2. Launch the program</a></li>
            <li class="level1"><a href="FindTheIntruder.html">3. Find the intruder</a></li>
            <li class="level1"><a href="MostRelevantIntruder.html"><b>4. Find the most relevant intruder</b></a></li>
            <li class="level1"><a href="ManageTheMultilingual.html">5. Manage the multilingual</a></li>
          </ul>
        </div>

        <div class="contents">
          <div id="contents-toggle" class=""></div>
          <h3>Getting Start</h3>
          <ul style="display: block;">
            <li class="level1"><a href="../../Download.html">Download</a></li>
            <li class="level1">Install Ontologenius</li>
            <li class="level2"><a href="../../InstallOntologeniusROS1.html">- Install with ROS1</a></li>
            <li class="level2"><a href="../../InstallOntologeniusROS2.html">- Install with ROS2</a></li>
            <li class="level1"><a href="../../SetUp.html">Set Up Your Environnement</a></li>
            <li class="level1"><a href="../Tutorials.html">Cpp Tutorials</a></li>
            <li class="level1"><a href="../../python_Tutorials/Tutorials.html">Python Tutorials</a></li>
          </ul>
        </div>

        <div class="contents">
          <div id="contents-toggle" class=""></div>
          <h3>Overview</h3>
          <ul style="display: block;">
            <li class="level1"><a href="../../overview/launchers.html">Launchers</a></li>
            <li class="level1"><a href="../../overview/ontoloGUI.html">OntoloGUI</a></li>
            <li class="level1"><a href="../../overview/reasonersConfiguration.html">Reasoners configuration</a></li>
            <!--li class="level1"><a href="plugins.html">Plugins</a></li-->
          </ul>
        </div>

        <div class="contents">
          <div id="contents-toggle" class=""></div>
          <h3>
            <i class="fas fa-angle-down"></i>
            <a href="../../cpp_API/CppAPI.html">
              All C++ Classes
            </a>
          </h3>
          <ul style="display: block;">
            <li class="level1"><a href="../../cpp_API/ActionClient.html">ActionClient</a></li>
            <li class="level1"><a href="../../cpp_API/ClassClient.html">ClassClient</a></li>
            <li class="level1"><a href="../../cpp_API/ClientBase.html">ClientBase</a></li>
            <li class="level1"><a href="../../cpp_API/DataPropertyClient.html">DataPropertyClient</a></li>
            <li class="level1"><a href="../../cpp_API/FeederPublisher.html">FeederPublisher</a></li>
            <li class="level1"><a href="../../cpp_API/IndividualClient.html">IndividualClient</a></li>
            <li class="level1"><a href="../../cpp_API/ManagerClient.html">ManagerClient</a></li>
            <li class="level1"><a href="../../cpp_API/ObjectPropertyClient.html">ObjectPropertyClient</a></li>
            <li class="level1"><a href="../../cpp_API/OntologiesManipulator.html">OntologiesManipulator</a></li>
            <li class="level1"><a href="../../cpp_API/OntologyClient.html">OntologyClient</a></li>
            <li class="level1"><a href="../../cpp_API/OntologyManipulator.html">OntologyManipulator</a></li>
            <li class="level1"><a href="../../cpp_API/ReasonerClient.html">ReasonerClient</a></li>
            <li class="level1"><a href="../../cpp_API/SparqlClient.html">SparqlClient</a></li>
            <li class="level2"><b>Index based classes</b></li>
            <li class="level1"><a href="../../cpp_API/ClassIndexClient.html">ClassIndexClient</a></li>
            <li class="level1"><a href="../../cpp_API/ClientBaseIndex.html">ClientBaseIndex</a></li>
            <li class="level1"><a href="../../cpp_API/ConversionClient.html">ConversionClient</a></li>
            <li class="level1"><a href="../../cpp_API/DataPropertyIndexClient.html">DataPropertyIndexClient</a></li>
            <li class="level1"><a href="../../cpp_API/IndividualIndexClient.html">IndividualIndexClient</a></li>
            <li class="level1"><a href="../../cpp_API/ObjectPropertyIndexClient.html">ObjectPropertyIndexClient</a></li>
            <li class="level1"><a href="../../cpp_API/OntologyIndexClient.html">OntologyIndexClient</a></li>
            <li class="level1"><a href="../../cpp_API/OntologyManipulatorIndex.html">OntologyManipulatorIndex</a></li>
            <li class="level1"><a href="../../cpp_API/SparqlIndexClient.html">SparqlIndexClient</a></li>
          </ul>
          </br>
          <h3>
            <i class="fas fa-angle-right"></i>
            <a href="../../python_API/PythonAPI.html">
              All Python Classes
            </a>
          </h3>
        </div>
      </div>

      <div class="context">
        <div class="toturial-header">
          <h1 class="title">Use inheritance for my first program (cpp)</h1>
          <a class="toturial-subheader">
            <div class="tutorial-subheader__main-icon">
              <i class="fas fa-brain"></i>
            </div>
            <div class="toturial-subheader__title">
              <h2 class="title">Who is the intruder ?</h2>
            </div>
          </a>
        </div>

        <h1 class="title">Find the most revelant intruder</h1>

        <p>Our program works pretty well but let's question it with the words: pr2, kevin et bob</p>
        <p>You should have this:</p>
        <div class="code_block">
          <div class="terminal_line">[SAY]on pr2 kevin bob</div>
          <div class="terminal_line">[SAY]the intruder is pr2 because it is the only one that is not: human</div>
          <div class="terminal_line">[SAY]the intruder is pr2 because it is the only one that is not: man</div>
          <div class="terminal_line">[SAY]Let's play!</div>
        </div>

        <p>We can represent this part of the ontology as follow:</p>
        <img src="../../images/tutorial/inheritance2.png " alt="tutorial 2 map of the city" width="30%" class="center"/>


        <p>The result is not false but only one of these two answers would be enough given that one
          induces the other. We will use ontologenius to try to give only the most relevant answer
          in such cases.</p>

        <p>To do this we will use a new function: getDown</p>
        <p>As you can imagine, the getDown function is the exact opposite of the getUp function,
          meaning that it returns the concepts inheriting from the one passed in the parameter
          of the function.</p>
        <p>We will use this function on classes because no concept can inherit an individual but
          especially because our goal is to find the reasons (which are classes) that overlap.</p>

        <div class="code_block cpp_code" style="counter-reset:code_line 0;">
          <div class="code_line"><span class="cpp_type">std</span>::<span class="cpp_type">vector</span>&lt;<span class="cpp_key">struct</span> <span class="cpp_type">intruder_t</span>&gt; <span class="cpp_function">refine</span>(<span class="cpp_type">std</span>::<span class="cpp_type">vector</span>&lt;<span class="cpp_key">struct</span> <span class="cpp_type">intruder_t</span>&gt; <span class="cpp_var">intruders</span>)</div>
          <div class="code_line">{</div>
          <div class="code_line">  <span class="cpp_type">std</span>::<span class="cpp_type">vector</span>&lt;<span class="cpp_key">struct</span> <span class="cpp_type">intruder_t</span>&gt; <span class="cpp_var">refine_intruders</span>;</div>
          <div class="code_line">  <span class="cpp_op">for</span>(<span class="cpp_type">size_t</span> <span class="cpp_var">i</span> = <span class="cpp_value">0</span>; <span class="cpp_var">i</span> &lt; <span class="cpp_var">intruders</span>.<span class="cpp_function">size</span>(); <span class="cpp_var">i</span>++)</div>
          <div class="code_line">  {</div>
          <div class="code_line">    <span class="cpp_type">std</span>::<span class="cpp_type">vector</span>&lt;<span class="cpp_type">std</span>::<span class="cpp_type">string</span>&gt; <span class="cpp_var">down</span> = <span class="cpp_var">onto_</span>-&gt;classes.<span class="cpp_function">getDown</span>(<span class="cpp_var">intruders</span>[i].why_);</div>
          <div class="code_line"><br></div>
          <div class="code_line">    <span class="cpp_key">bool</span> <span class="cpp_var">is_most_relevant</span> = <span class="cpp_key">true</span>;</div>
          <div class="code_line">    <span class="cpp_op">for</span>(<span class="cpp_type">size_t</span> <span class="cpp_var">j</span> = <span class="cpp_value">0</span>; <span class="cpp_var">j</span> &lt; <span class="cpp_var">intruders</span>.<span class="cpp_function">size</span>(); <span class="cpp_var">j</span>++)</div>
          <div class="code_line">      <span class="cpp_op">if</span>((<span class="cpp_var">i</span> != <span class="cpp_var">j</span>) && (<span class="cpp_var">intruders</span>[<span class="cpp_var">i</span>].name_ == <span class="cpp_var">intruders</span>[<span class="cpp_var">j</span>].name_))</div>
          <div class="code_line">        <span class="cpp_op">if</span>(<span class="cpp_function">find</span>(<span class="cpp_var">down</span>.<span class="cpp_function">begin</span>(), <span class="cpp_var">down</span>.<span class="cpp_function">end</span>(), <span class="cpp_var">intruders</span>[<span class="cpp_var">j</span>].why_) != <span class="cpp_var">down</span>.<span class="cpp_function">end</span>())</div>
          <div class="code_line">          <span class="cpp_var">is_most_relevant</span> = <span class="cpp_key">false</span>;</div>
          <div class="code_line"><br></div>
          <div class="code_line">    <span class="cpp_op">if</span>(<span class="cpp_var">is_most_relevant</span> == <span class="cpp_key">true</span>)</div>
          <div class="code_line">      <span class="cpp_var">refine_intruders</span>.<span class="cpp_function">push_back</span>(<span class="cpp_var">intruders</span>[<span class="cpp_var">i</span>]);</div>
          <div class="code_line">  }</div>
          <div class="code_line">  <span class="cpp_op">return</span> <span class="cpp_var">refine_intruders</span>;</div>
          <div class="code_line">}</div>
        </div>

        <p>So we notice that we are going to look for the object classes of the ontology manipulator instead of the object individuals.</p>
        <div class="code_block cpp_code" style="counter-reset:code_line 5;">
          <div class="code_line">    <span class="cpp_type">std</span>::<span class="cpp_type">vector</span>&lt;<span class="cpp_type">std</span>::<span class="cpp_type">string</span>&gt; <span class="cpp_var">down</span> = <span class="cpp_var">onto_</span>-&gt;classes.<span class="cpp_function">getDown</span>(<span class="cpp_var">intruders</span>[i].why_);</div>
        </div>
        <p class="tip">The getUp function is available for individuals, classes, and properties while the
          getDown function is only available for classes and properties.</p>

        <p>We can call our refining function in our main function just after the function to find intruders</p>
        <div class="code_block cpp_code" style="counter-reset:code_line 0;">
          <div class="code_line"><span class="cpp_type">std</span>::<span class="cpp_type">vector</span>&lt;<span class="cpp_key">struct</span> <span class="cpp_type">intruder_t</span>&gt; <span class="cpp_var">intruders</span> = <span class="cpp_function">find_intruder</span>(<span class="cpp_var">names_</span>, <span class="cpp_var">inheritances</span>);</div>
          <div class="code_line"><span class="cpp_var">intruders</span> = <span class="cpp_function">refine</span>(<span class="cpp_var">intruders</span>);</div>
        </div>

        <p>Re-interrogating our program with the words pr2, kevin, and bob, we now have the following result:</p>
        <div class="code_block">
          <div class="terminal_line">[SAY]on pr2 kevin bob</div>
          <div class="terminal_line">[SAY]the intruder is pr2 because it is the only one that is not: man</div>
          <div class="terminal_line">[SAY]Let's play!</div>
        </div>

        <p>If you want this to be the concept "human" that explains the intruder, you just have to modify the
          algorithm above using the getUp function rather than the getDown function. It is your turn!</p>

        <nav class="course-pagination">
          <a href="FindTheIntruder.html" class="course-pagination__btn">
            <i class="fas fa-angle-left"></i>
            <span>Find the intruder</span>
          </a>
          <span class="course-pagination__separator"></span>
          <a href="ManageTheMultilingual.html" class="course-pagination__btn">
            <span>Manage the multilingual</span>
            <i class="fas fa-angle-right"></i>
          </a>
        </nav>

      </div>
    </div>

  </div>
</body>

<footer>
  <div align="center">
    <p>
      Brought to you by:
      <a class="laas_logo" href="https://www.laas.fr/public/">
        <img src="../../images/LogoLAAS-2016_BW.png " alt="LAAS-CNRS" height="60px"/>
      </a>
    </p>
  </div>
</footer>

</html>
