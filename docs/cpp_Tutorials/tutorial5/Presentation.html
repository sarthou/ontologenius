<html lang="en_US">

<head>
  <title>Explore possible futures (cpp) : Presentation</title>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <link href="../../style/ontologenius_api.css" rel="stylesheet" type="text/css">
  <link href="../../style/ontologenius_tabs.css" rel="stylesheet" type="text/css">
  <link href="../../images/favicon.ico" rel="shortcut icon">
  <link href="../../images/favicon-32x32.png" rel="icon" type="image/png">
  <link href="../../images/favicon-16x16.png" rel="icon" type="image/png">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
  <script src="../../scripts/tabs.js" type="text/javascript"></script>
</head>

<body>
  <div class="header" id="header">
    <header class="fixed" id="navbar">
      <div class="container">
          <div class="navbar-header">
            <div id="header-buttons">
                <ul id="header-ul" data-event="hover_intent" data-effect="fade" data-effect-speed="500">
                    <li class="header-item"><a class="header-link" href="https://github.com/sarthou/ontologenius" tabindex="0"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/Octicons-mark-github.svg/1200px-Octicons-mark-github.svg.png" alt="github" width="40px" height="40px"/></a></li>
                </ul>
            </div>
            <a class="navbar-icon" href="../../index.html">
              <img src="../../images/ontologenius.png " alt="ontologenius" width="65px" height="65px"/>
            </a>
        </div>
      </div>
    </header>
  </div>

  <div class="main">

    <div class="navigationbar">
      <ul class="sub-navigation">
        <li><a href="https://github.com/sarthou/ontologenius/tree/master/src/API/ontologenius">C++ API sources</a></li>
        <li><a href="https://github.com/sarthou/ontologenius/tree/master/include/ontologenius/API/ontologenius">C++ API headers</a></li>
        <li><a href="https://github.com/sarthou/ontologenius/tree/master/ontopy/ontologenius">Pyhton API sources</a></li>
        <li><a href="https://gitlab.com/sarthou/ontologenius/pipelines">Pipelines</a></li>
      </ul>
      <h1>Ontologenius Cpp Documentation</h1>
    </div>

    <div class="content">
      <div class="sidebar" style="transition: all 0.2s ease-out 0s; top: 0px;">
        <div class="contents">
          <div id="contents-toggle" class=""></div>
          <h3>Contents</h3>
          <ul style="display: block;">
            <li class="level1"><a href="Presentation.html"><b>1. Presentation</b></a></li>
            <li class="level1"><a href="MoveThroughTheAlternatives.html">2. Move through the alternatives </a></li>
            <li class="level1"><a href="ViewGraph.html">3. View graph </a></li>
          </ul>
        </div>

        <div class="contents">
          <div id="contents-toggle" class=""></div>
          <h3>Getting Start</h3>
          <ul style="display: block;">
            <li class="level1"><a href="../../Download.html">Download</a></li>
            <li class="level1">Install Ontologenius</li>
            <li class="level2"><a href="../../InstallOntologeniusROS1.html">- Install with ROS1</a></li>
            <li class="level2"><a href="../../InstallOntologeniusROS2.html">- Install with ROS2</a></li>
            <li class="level1"><a href="../../SetUp.html">Set Up Your Environnement</a></li>
            <li class="level1"><a href="../Tutorials.html">Cpp Tutorials</a></li>
            <li class="level1"><a href="../../python_Tutorials/Tutorials.html">Python Tutorials</a></li>
          </ul>
        </div>

        <div class="contents">
          <div id="contents-toggle" class=""></div>
          <h3>Overview</h3>
          <ul style="display: block;">
            <li class="level1"><a href="../../overview/launchers.html">Launchers</a></li>
            <li class="level1"><a href="../../overview/ontoloGUI.html">OntoloGUI</a></li>
            <li class="level1"><a href="../../overview/reasonersConfiguration.html">Reasoners configuration</a></li>
            <!--li class="level1"><a href="plugins.html">Plugins</a></li-->
          </ul>
        </div>

        <div class="contents">
          <div id="contents-toggle" class=""></div>
          <h3>
            <i class="fas fa-angle-down"></i>
            <a href="../../cpp_API/CppAPI.html">
              All C++ Classes
            </a>
          </h3>
          <ul style="display: block;">
            <li class="level1"><a href="../../cpp_API/ActionClient.html">ActionClient</a></li>
            <li class="level1"><a href="../../cpp_API/ClassClient.html">ClassClient</a></li>
            <li class="level1"><a href="../../cpp_API/ClientBase.html">ClientBase</a></li>
            <li class="level1"><a href="../../cpp_API/DataPropertyClient.html">DataPropertyClient</a></li>
            <li class="level1"><a href="../../cpp_API/FeederPublisher.html">FeederPublisher</a></li>
            <li class="level1"><a href="../../cpp_API/IndividualClient.html">IndividualClient</a></li>
            <li class="level1"><a href="../../cpp_API/ManagerClient.html">ManagerClient</a></li>
            <li class="level1"><a href="../../cpp_API/ObjectPropertyClient.html">ObjectPropertyClient</a></li>
            <li class="level1"><a href="../../cpp_API/OntologiesManipulator.html">OntologiesManipulator</a></li>
            <li class="level1"><a href="../../cpp_API/OntologyClient.html">OntologyClient</a></li>
            <li class="level1"><a href="../../cpp_API/OntologyManipulator.html">OntologyManipulator</a></li>
            <li class="level1"><a href="../../cpp_API/ReasonerClient.html">ReasonerClient</a></li>
            <li class="level1"><a href="../../cpp_API/SparqlClient.html">SparqlClient</a></li>
            <li class="level2"><b>Index based classes</b></li>
            <li class="level1"><a href="../../cpp_API/ClassIndexClient.html">ClassIndexClient</a></li>
            <li class="level1"><a href="../../cpp_API/ClientBaseIndex.html">ClientBaseIndex</a></li>
            <li class="level1"><a href="../../cpp_API/ConversionClient.html">ConversionClient</a></li>
            <li class="level1"><a href="../../cpp_API/DataPropertyIndexClient.html">DataPropertyIndexClient</a></li>
            <li class="level1"><a href="../../cpp_API/IndividualIndexClient.html">IndividualIndexClient</a></li>
            <li class="level1"><a href="../../cpp_API/ObjectPropertyIndexClient.html">ObjectPropertyIndexClient</a></li>
            <li class="level1"><a href="../../cpp_API/OntologyIndexClient.html">OntologyIndexClient</a></li>
            <li class="level1"><a href="../../cpp_API/OntologyManipulatorIndex.html">OntologyManipulatorIndex</a></li>
            <li class="level1"><a href="../../cpp_API/SparqlIndexClient.html">SparqlIndexClient</a></li>
          </ul>
          </br>
          <h3>
            <i class="fas fa-angle-right"></i>
            <a href="../../python_API/PythonAPI.html">
              All Python Classes
            </a>
          </h3>
        </div>
      </div>

      <div class="context">
        <div class="toturial-header">
          <h1 class="title">Explore possible futures (cpp)</h1>
          <a class="toturial-subheader">
            <div class="tutorial-subheader__main-icon">
              <i class="fas fa-brain"></i>
            </div>
            <div class="toturial-subheader__title">
              <h2 class="title">Commit and checkout</h2>
            </div>
          </a>
        </div>

        <h1 class="title">Presentation</h1>

        <p>This is the fifth tutorial! In the previous tutorial, we saw how to manage several instances of Ontologenius,
          each representing a specific agent. However, each of these instances represents only an agent's knowledge base at
          present. When planning, we may need to estimate a possible future state of a knowledge base
          to execute algorithms on it. Of course, one cannot simply modify the current knowledge base of an agent at the
          risk of breaking it and being disturbed by updates coming from the current situation. In this tutorial, we will
          see how to effectively manage estimated knowledge bases.</p>

        <p>Since this process is very specific and must be used in global architecture, we will not do any mini-project
          which could be too complex to set up. We will simply create an executable that will generate several possible
          future states and try to understand together the best practices to do so.</p>

        <div class="text_block" style="margin-bottom:40px;">
          <img src="../../images/tutorial/tutorial_5_sol1.png " alt="new instance creation" height="200px" style="margin-right:20px; vertical-align:middle"/>
          <span>
            Based on what we saw in the previous tutorials, the only way to have instances for future knowledge base
            estimates would be to ... create new instances. I hope you see how bad this solution is. When we create a
            new instance, it loads the common ground but we don't want common ground but a copy of an actual instance.
            Also, by proceeding like this, if we have specified an internal file, each of these instances will
            be saved when it is killed, and depending on whether there is a backup of a previous execution or not, the
            new instance will start with this previous file or with the common ground.
            <br/>
            At this point, you should see that with such management it will be unmanageable. Fortunately, if we do a
            tutorial on it it is that we have a way to do better.
          </span>
        </div>

        <div class="text_block" style="margin-bottom:40px;">
          <span>
            The first feature offered by Ontologenius is deep copying. It is simply a complete copy of an existing instance
            which then becomes independent. With this copy, we start from an existing point and we can make our modifications
            from this point. Besides, even if an internal file is set, a copy will never be saved automatically when killed.
            <br/>
            We have now solved the main problems identified above and we can also imagine interweaving as illustrated opposite to
            create two new states from one.
            <br/>
            However, a deep copy is not a trivial process and it takes a little time to execute. Although this time can be negligible
            if we make only one copy, if we imagine a planning problem with a hundred states it can greatly affect the general
            performance of the planning all this for very often a low number of changes between each copy. Also, if you
            try to create a hundred Ontologenius instances, your computer will say "NO" at some point ... With my tests,
            I manage to create only 83 at the same time.
          </span>
          <img src="../../images/tutorial/tutorial_5_sol2.png " alt="new instance creation" height="160px" style="margin-left:20px; vertical-align:middle"/>
        </div>

        <div class="text_block">
          <img src="../../images/tutorial/tutorial_5_sol3.png " alt="new instance creation" height="100px" style="margin-right:20px; vertical-align:middle"/>
          <span>
            The second feature offered by Ontologenius is a kind of versioning system on copied instances. Much like git, you can
            make changes to a copied instance and then commit those changes with a commit name. Then you can continue to make
            changes or go to a specific commit using its name. With this feature, you can represent multiple states of a
            knowledge base in a single instance.
          </span>
        </div>

        <h2>The ontology used</h2>

        <p>For this tutorial, we will not use existing ontology. We will create it dynamically to better observe the effects of our modifications.</p>

        <h2>Before you start</h2>

        <p>Before moving on, you can create a new launch file. Leave the "files" argument empty, and then set
          the "intern_file" argument to "futures.owl".
        </p>

        <div class="lang-tabs container">
          <div aria-label="Tabbed content" class="closeable" role="tablist">
            <button aria-controls="panel-2-Ros1" aria-selected="true" class="lang-tabs-tab group-tab" id="tab-2-Ros1" name="Ros1" role="tab" tabindex="0">XML ROS1</button>
            <button aria-controls="panel-2-Ros2" aria-selected="false" class="lang-tabs-tab group-tab" id="tab-2-Ros2" name="Ros2" role="tab" tabindex="-1">XML ROS2</button>
            <button aria-controls="panel-2-Python" aria-selected="false" class="lang-tabs-tab group-tab" id="tab-2-Python" name="Python" role="tab" tabindex="-1">Python</button>
            <button aria-controls="panel-2-Yaml" aria-selected="false" class="lang-tabs-tab group-tab" id="tab-2-Yaml" name="Yaml" role="tab" tabindex="-1">YAML</button>
          </div>
          
          <div aria-labelledby="tab-2-Ros1" class="lang-tabs-panel group-tab" id="panel-2-Ros1" name="Ros1" role="tabpanel" tabindex="0">
            <div class="highlight-xml">
              <div class="code_block xml_code" style="counter-reset:code_line 0;">
                <div class="code_line">&lt;<span class="xml_tag">launch</span>&gt;</div>
                <div class="code_line">    &lt;<span class="xml_tag">node</span> <span class="xml_param">name</span>=<span class="xml_string">&quot;explore_futures&quot;</span> <span class="xml_param">pkg</span>=<span class="xml_string">&quot;ontologenius_tutorial&quot;</span> <span class="xml_param">type</span>=<span class="xml_string">&quot;explore_futures&quot;</span> <span class="xml_param">output</span>=<span class="xml_string">&quot;screen&quot</span>/&gt;</div>
                <div class="code_line">    &lt;<span class="xml_tag">include</span> <span class="xml_param">file</span>=<span class="xml_string">&quot;$(find ontologenius)/launch/ontologenius_multi.launch&quot;</span>&gt;</div>
                <div class="code_line">        &lt;<span class="xml_tag">arg</span> <span class="xml_param">name</span>=<span class="xml_string">&quot;intern_file&quot;</span> <span class="xml_param">default</span>=<span class="xml_string">&quot;$(find ontologenius_tutorial)/futures.owl&quot;</span>/&gt;</div>
                <div class="code_line">        &lt;<span class="xml_tag">arg</span> <span class="xml_param">name</span>=<span class="xml_string">&quot;files&quot;</span> <span class="xml_param">default</span>=<span class="xml_string">&quot;&quot;</span>/&gt;</div>
                <div class="code_line">    &lt;/<span class="xml_tag">include</span>&gt;</div>
                <div class="code_line">&lt;/<span class="xml_tag">launch</span>&gt;</div>
              </div>

              <p>Let's call this file <i>futures.launch</i> and put it in our package in the folder <i>launch</i>.</p>
            </div>
          </div>
          
          <div aria-labelledby="tab-2-Ros2" class="lang-tabs-panel group-tab" id="panel-2-Ros2" name="Ros2" role="tabpanel" tabindex="0" hidden="true">
            <div class="highlight-xml">
              <div class="code_block xml_code">
                <div class="terminal_line">&lt;<span class="xml_tag">launch</span>&gt;</div>
                <div class="terminal_line">    &lt;<span class="xml_tag">node</span> <span class="xml_param">pkg</span>=<span class="xml_string">&quot;ontologenius_tutorial&quot;</span> <span class="xml_param">exec</span>=<span class="xml_string">&quot;explore_futures&quot;</span> <span class="xml_param">output</span>=<span class="xml_string">&quot;screen&quot</span>/&gt;</div>
                <div class="terminal_line">    &lt;<span class="xml_tag">include</span> <span class="xml_param">file</span>=<span class="xml_string">&quot;$(find-pkg-share ontologenius)/launch/ontologenius_multi.launch&quot;</span>&gt;</div>
                <div class="terminal_line">        &lt;<span class="xml_tag">arg</span> <span class="xml_param">name</span>=<span class="xml_string">&quot;intern_file&quot;</span> <span class="xml_param">value</span>=<span class="xml_string">&quot;$(find-pkg-share ontologenius_tutorial)/futures.owl&quot;</span>/&gt;</div>
                <div class="terminal_line">        &lt;<span class="xml_tag">arg</span> <span class="xml_param">name</span>=<span class="xml_string">&quot;files&quot;</span> <span class="xml_param">value</span>=<span class="xml_string">&quot;&quot;</span>/&gt;</div>
                <div class="terminal_line">    &lt;/<span class="xml_tag">include</span>&gt;</div>
                <div class="terminal_line">&lt;/<span class="xml_tag">launch</span>&gt;</div>
              </div>
              <p>Let's call this file <i>futures.xml</i> and put it in our package in the folder <i>launch</i>.</p>
            </div>
          </div>
          
          <div aria-labelledby="tab-2-Python" class="lang-tabs-panel group-tab" id="panel-2-Python" name="Python" role="tabpanel" tabindex="0" hidden="true">
            <div class="highlight-python">
              <div class="code_block python_code">
                <div class="terminal_line"><span class="py_import">import</span> <span class="py_imported">os</span></div>
                <div class="terminal_line"> </div>
                <div class="terminal_line"><span class="py_import">from</span> <span class="py_imported">ament_index_python</span> <span class="py_import">import</span> <span class="py_function">get_package_share_directory</span></div>
                <div class="terminal_line"> </div>
                <div class="terminal_line"><span class="py_import">from</span> <span class="py_imported">launch</span> <span class="py_import">import</span> <span class="py_imported">LaunchDescription</span></div>
                <div class="terminal_line"><span class="py_import">from</span> <span class="py_imported">launch</span>.<span class="py_imported">actions</span> <span class="py_import">import</span> <span class="py_imported">IncludeLaunchDescription</span></div>
                <div class="terminal_line"><span class="py_import">from</span> <span class="py_imported">launch</span>.<span class="py_imported">launch_description_sources</span> <span class="py_import">import</span> <span class="py_imported">PythonLaunchDescriptionSource</span></div>
                <div class="terminal_line"><span class="py_import">from</span> <span class="py_imported">launch</span>.<span class="py_imported">substitutions</span> <span class="py_import">import</span> <span class="py_imported">TextSubstitution</span></div>
                <div class="terminal_line"><span class="py_import">from</span> <span class="py_imported">launch_ros</span>.<span class="py_imported">actions</span> <span class="py_import">import</span> <span class="py_imported">Node</span></div>
                <div class="terminal_line"> </div>
                <div class="terminal_line"><span class="py_def">def</span> <span class="py_function">generate_launch_description</span>():</div>
                <div class="terminal_line"> </div>
                <div class="terminal_line">    <span class="py_var">futures_node</span> = <span class="py_imported">Node</span>(</div>
                <div class="terminal_line">        <span class="py_var">package</span>=<span class="py_string">'ontologenius_tutorial'</span>,</div>
                <div class="terminal_line">        <span class="py_var">executable</span>=<span class="py_string">'explore_futures'</span>,</div>
                <div class="terminal_line">        <span class="py_var">output</span>=<span class="py_string">'screen'</span>,</div>
                <div class="terminal_line">    )</div>
                <div class="terminal_line"> </div>
                <div class="terminal_line">    <span class="py_var">ontologenius_include</span> = <span class="py_imported">IncludeLaunchDescription</span>(</div>
                <div class="terminal_line">        <span class="py_imported">PythonLaunchDescriptionSource</span>(</div>
                <div class="terminal_line">            <span class="py_imported">os</span>.<span class="py_var">path</span>.<span class="py_function">join</span>(<span class="py_function">get_package_share_directory</span>(<span class="py_string">'ontologenius'</span>), <span class="py_string">'launch/ontologenius_multi_empty.py'</span>)</div>
                <div class="terminal_line">        ),</div>
                <div class="terminal_line">        <span class="py_var">launch_arguments</span>={</div>
                <div class="terminal_line">            <span class="py_string">'intern_file'</span>: <span class="py_imported">TextSubstitution</span>(<span class="py_var">text</span> = <span class="py_imported">os</span>.<span class="py_var">path</span>.<span class="py_function">join</span>(<span class="py_function">get_package_share_directory</span>(<span class="py_string">'ontologenius_tutorial'</span>), <span class="py_string">'futures.owl'</span>)),</div>
                <div class="terminal_line">            <span class="py_string">'files'</span>: <span class="py_string">''</span></div>
                <div class="terminal_line">        }.<span class="py_function">items</span>()</div>
                <div class="terminal_line">    )</div>
                <div class="terminal_line"> </div>
                <div class="terminal_line">    <span class="py_op">return</span> <span class="py_imported">LaunchDescription</span>([</div>
                <div class="terminal_line">        <span class="py_var">futures_node</span>,</div>
                <div class="terminal_line">        <span class="py_var">ontologenius_include</span></div>
                <div class="terminal_line">    ])</div>
              </div>
              <p>Let's call this file <i>futures.py</i> and put it in our package in the folder <i>launch</i>.</p>
            </div>
          </div>
          
          <div aria-labelledby="tab-2-Yaml" class="lang-tabs-panel group-tab" id="panel-2-Yaml" name="Yaml" role="tabpanel" tabindex="0" hidden="true">
            <div class="highlight-xml">
              <div class="code_block yaml_code">
                <div class="terminal_line"><span class="yaml_key">launch</span>:</div>
                <div class="terminal_line">- <span class="yaml_key">node</span>:</div>
                <div class="terminal_line">    <span class="yaml_key">pkg</span>: <span class="yaml_string">&quot;ontologenius_tutorial&quot;</span></div>
                <div class="terminal_line">    <span class="yaml_key">exec</span>: <span class="yaml_string">&quot;explore_futures&quot;</span></div>
                <div class="terminal_line">    <span class="yaml_key">output</span>: <span class="yaml_string">&quot;screen&quot;</span></div>
                <div class="terminal_line"> </div>
                <div class="terminal_line">- <span class="yaml_key">include</span>:</div>
                <div class="terminal_line">    <span class="yaml_key">file</span>: <span class="yaml_string">&quot;$(find-pkg-share ontologenius)/launch/ontologenius_multi_empty.yaml&quot;</span></div>
                <div class="terminal_line">    <span class="yaml_key">arg</span>:</div>
                <div class="terminal_line">        -</div>
                <div class="terminal_line">            <span class="yaml_key">name</span>: <span class="yaml_string">&quot;intern_file&quot;</span></div>
                <div class="terminal_line">            <span class="yaml_key">value</span>: <span class="yaml_string">&quot;$(find-pkg-share ontologenius_tutorial)/futures.owl&quot;</span></div>
                <div class="terminal_line">        -</div>
                <div class="terminal_line">            <span class="yaml_key">name</span>: <span class="yaml_string">&quot;files&quot;</span></div>
                <div class="terminal_line">            <span class="yaml_key">value</span>: <span class="yaml_string">&quot;&quot;</span></div>
              </div>
              <p>Let's call this file <i>futures.yaml</i> and put it in our package in the folder <i>launch</i>.</p>
            </div>
          </div>
        
        </div>

        <p>You can see here that we base our launch file on the launch file "ontologenius_multi" once again.
          Because we are going to create a separate instance of Ontologenius that will represent the knowledge
          base for future estimates, we must be able to manage multiple instances.</p>

        <p>By specifying an internal file, Ontologenius is allowed to save the ontology it contains in a file
          when it is stopped and to reload it on its next start. We will see more precisely the effect of this
          internal file on our estimates.</p>

        <nav class="course-pagination">
          <a href="../Tutorials.html" class="course-pagination__btn">
            <i class="fas fa-angle-left"></i>
            <span>Tutorials</span>
          </a>
          <span class="course-pagination__separator"></span>
          <a href="MoveThroughTheAlternatives.html" class="course-pagination__btn">
            <span>Move through the alternatives </span>
            <i class="fas fa-angle-right"></i>
          </a>
        </nav>

      </div>
    </div>

  </div>
</body>

<footer>
  <div align="center">
    <p>
      Brought to you by:
      <a class="laas_logo" href="https://www.laas.fr/public/">
        <img src="../../images/LogoLAAS-2016_BW.png " alt="LAAS-CNRS" height="60px"/>
      </a>
    </p>
  </div>
</footer>

</html>
