<html lang="en_US">

<head>
  <title>Advanced knowledge exploration (cpp) : Find our way</title>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <link href="../../style/ontologenius_api.css" rel="stylesheet" type="text/css">
  <link href="../../style/ontologenius_tabs.css" rel="stylesheet" type="text/css">
  <link href="../../images/favicon.ico" rel="shortcut icon">
  <link href="../../images/favicon-32x32.png" rel="icon" type="image/png">
  <link href="../../images/favicon-16x16.png" rel="icon" type="image/png">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
  <script src="../../scripts/tabs.js" type="text/javascript"></script>
</head>

<body>
  <div class="header" id="header">
    <header class="fixed" id="navbar">
      <div class="container">
          <div class="navbar-header">
            <div id="header-buttons">
                <ul id="header-ul" data-event="hover_intent" data-effect="fade" data-effect-speed="500">
                    <li class="header-item"><a class="header-link" href="https://github.com/sarthou/ontologenius" tabindex="0"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/Octicons-mark-github.svg/1200px-Octicons-mark-github.svg.png" alt="github" width="40px" height="40px"/></a></li>
                </ul>
            </div>
            <a class="navbar-icon" href="../../index.html">
              <img src="../../images/ontologenius_light.png " alt="ontologenius" width="65px" height="65px"/>
            </a>
        </div>
      </div>
    </header>
  </div>

  <div class="main">

    <div class="navigationbar">
      <ul class="sub-navigation">
        <li><a href="https://github.com/sarthou/ontologenius/tree/master/src/API/ontologenius">C++ API sources</a></li>
        <li><a href="https://github.com/sarthou/ontologenius/tree/master/include/ontologenius/API/ontologenius">C++ API headers</a></li>
        <li><a href="https://github.com/sarthou/ontologenius/tree/master/ontopy/ontologenius">Pyhton API sources</a></li>
        <li><a href="https://gitlab.com/sarthou/ontologenius/pipelines">Pipelines</a></li>
      </ul>
      <h1>Ontologenius Cpp Documentation</h1>
    </div>

    <div class="content">
      <div class="sidebar" style="transition: all 0.2s ease-out 0s; top: 0px;">
        <div class="contents">
          <div id="contents-toggle" class=""></div>
          <h3>Contents</h3>
          <ul style="display: block;">
            <li class="level1"><a href="Presentation.html">1. Presentation of the problem</a></li>
            <li class="level1"><a href="FindOurWay.html"><b>2. Find our way</b></a></li>
            <li class="level1"><a href="UnderstandOurEnvironment.html">3. Better understand our environment</a></li>
          </ul>
        </div>

        <div class="contents">
          <div id="contents-toggle" class=""></div>
          <h3>Getting Start</h3>
          <ul style="display: block;">
            <li class="level1"><a href="../../Download.html">Download</a></li>
            <li class="level1">Install Ontologenius</li>
            <li class="level2"><a href="../../InstallOntologeniusROS1.html">- Install with ROS1</a></li>
            <li class="level2"><a href="../../InstallOntologeniusROS2.html">- Install with ROS2</a></li>
            <li class="level1"><a href="../../SetUp.html">Set Up Your Environnement</a></li>
            <li class="level1"><a href="../Tutorials.html">Cpp Tutorials</a></li>
            <li class="level1"><a href="../../python_Tutorials/Tutorials.html">Python Tutorials</a></li>
          </ul>
        </div>

        <div class="contents">
          <div id="contents-toggle" class=""></div>
          <h3>Overview</h3>
          <ul style="display: block;">
            <li class="level1"><a href="../../overview/launchers.html">Launchers</a></li>
            <li class="level1"><a href="../../overview/ontoloGUI.html">OntoloGUI</a></li>
            <li class="level1"><a href="../../overview/reasonersConfiguration.html">Reasoners configuration</a></li>
            <!--li class="level1"><a href="plugins.html">Plugins</a></li-->
          </ul>
        </div>

        <div class="contents">
          <div id="contents-toggle" class=""></div>
          <h3>
            <i class="fas fa-angle-down"></i>
            <a href="../../cpp_API/CppAPI.html">
              All C++ Classes
            </a>
          </h3>
          <ul style="display: block;">
            <li class="level1"><a href="../../cpp_API/ActionClient.html">ActionClient</a></li>
            <li class="level1"><a href="../../cpp_API/ClassClient.html">ClassClient</a></li>
            <li class="level1"><a href="../../cpp_API/ClientBase.html">ClientBase</a></li>
            <li class="level1"><a href="../../cpp_API/DataPropertyClient.html">DataPropertyClient</a></li>
            <li class="level1"><a href="../../cpp_API/FeederPublisher.html">FeederPublisher</a></li>
            <li class="level1"><a href="../../cpp_API/IndividualClient.html">IndividualClient</a></li>
            <li class="level1"><a href="../../cpp_API/ManagerClient.html">ManagerClient</a></li>
            <li class="level1"><a href="../../cpp_API/ObjectPropertyClient.html">ObjectPropertyClient</a></li>
            <li class="level1"><a href="../../cpp_API/OntologiesManipulator.html">OntologiesManipulator</a></li>
            <li class="level1"><a href="../../cpp_API/OntologyClient.html">OntologyClient</a></li>
            <li class="level1"><a href="../../cpp_API/OntologyManipulator.html">OntologyManipulator</a></li>
            <li class="level1"><a href="../../cpp_API/ReasonerClient.html">ReasonerClient</a></li>
            <li class="level1"><a href="../../cpp_API/SparqlClient.html">SparqlClient</a></li>
            <li class="level2"><b>Index based classes</b></li>
            <li class="level1"><a href="../../cpp_API/ClassIndexClient.html">ClassIndexClient</a></li>
            <li class="level1"><a href="../../cpp_API/ClientBaseIndex.html">ClientBaseIndex</a></li>
            <li class="level1"><a href="../../cpp_API/ConversionClient.html">ConversionClient</a></li>
            <li class="level1"><a href="../../cpp_API/DataPropertyIndexClient.html">DataPropertyIndexClient</a></li>
            <li class="level1"><a href="../../cpp_API/IndividualIndexClient.html">IndividualIndexClient</a></li>
            <li class="level1"><a href="../../cpp_API/ObjectPropertyIndexClient.html">ObjectPropertyIndexClient</a></li>
            <li class="level1"><a href="../../cpp_API/OntologyIndexClient.html">OntologyIndexClient</a></li>
            <li class="level1"><a href="../../cpp_API/OntologyManipulatorIndex.html">OntologyManipulatorIndex</a></li>
            <li class="level1"><a href="../../cpp_API/SparqlIndexClient.html">SparqlIndexClient</a></li>
          </ul>
          </br>
          <h3>
            <i class="fas fa-angle-right"></i>
            <a href="../../python_API/PythonAPI.html">
              All Python Classes
            </a>
          </h3>
        </div>
      </div>

      <div class="context">
        <div class="toturial-header">
          <h1 class="title">Advanced knowledge exploration (cpp)</h1>
          <a class="toturial-subheader">
            <div class="tutorial-subheader__main-icon">
              <i class="fas fa-brain"></i>
            </div>
            <div class="toturial-subheader__title">
              <h2 class="title">How to go home ?</h2>
            </div>
          </a>
        </div>

        <h1 class="title">Find our way</h1>

        <p>Before starting, here is the body of our program with a function that will allow us to display routes.
          Routes will be represented by a vector of strings.</p>

        <div class="lang-tabs container">
          <div aria-label="Tabbed content" class="closeable" role="tablist">
            <button aria-controls="panel-0-Ros1" aria-selected="true" class="lang-tabs-tab group-tab" id="tab-0-Ros1" name="Ros1" role="tab" tabindex="0">ROS1</button>
            <button aria-controls="panel-0-Ros2" aria-selected="false" class="lang-tabs-tab group-tab" id="tab-0-Ros2" name="Ros2" role="tab" tabindex="-1">ROS2</button>
          </div>

          <div aria-labelledby="tab-0-Ros1" class="lang-tabs-panel group-tab" id="panel-0-Ros1" name="Ros1" role="tabpanel" tabindex="0">
            <div class="highlight-python">
              <div class="code_block cpp_code" style="counter-reset:code_line 0;">
                <div class="code_line"><span class="cpp_include">#include</span> <span class="cpp_included">&lt;iostream&gt;</span></div>
                <div class="code_line"><span class="cpp_include">#include</span> <span class="cpp_included">&lt;vector&gt;</span></div>
                <div class="code_line"><span class="cpp_include">#include</span> <span class="cpp_included">&lt;string&gt;</span></div>
                <div class="code_line"><br></div>
                <div class="code_line"><span class="cpp_include">#include</span> <span class="cpp_included">&quot;ros/ros.h&quot;</span></div>
                <div class="code_line"><span class="cpp_include">#include</span> <span class="cpp_included">&quot;ontologenius/OntologyManipulator.h&quot;</span></div>
                <div class="code_line"><br></div>
                <div class="code_line"><span class="cpp_type">onto</span>::<span class="cpp_type">OntologyManipulator</span>* <span class="cpp_var">onto_</span>;</div>
                <div class="code_line"><br></div>
                <div class="code_line"><span class="cpp_key">void</span> <span class="cpp_function">displayRoute</span>(<span class="cpp_type">std</span>::<span class="cpp_type">vector</span>&lt;<span class="cpp_type">std</span>::<span class="cpp_type">string</span>&gt; <span class="cpp_var">route</span>)</div>
                <div class="code_line">{</div>
                <div class="code_line">  <span class="cpp_op">for</span>(<span class="cpp_key">auto&</span> <span class="cpp_var">path</span> : <span class="cpp_var">route</span>)</div>
                <div class="code_line">    <span class="cpp_type">std</span>::<span class="cpp_function">cout</span> &lt;&lt; <span class="cpp_var">path</span> &lt;&lt; <span class="cpp_string">&quot; - &quot;</span>;</div>
                <div class="code_line">  <span class="cpp_type">std</span>::<span class="cpp_function">cout</span> &lt;&lt; <span class="cpp_type">std</span>::<span class="cpp_function">endl</span>;</div>
                <div class="code_line">}</div>
                <div class="code_line"><br></div>
                <div class="code_line"><span class="cpp_key">int</span> <span class="cpp_function">main</span>(<span class="cpp_key">int</span> <span class="cpp_var">argc</span>, <span class="cpp_key">char**</span> <span class="cpp_var">argv</span>)</div>
                <div class="code_line">{</div>
                <div class="code_line">  <span class="cpp_type">ros</span>::<span class="cpp_function">init</span>(<span class="cpp_var">argc</span>, <span class="cpp_var">argv</span>, <span class="cpp_string">&quot;find_our_way&quot;</span>);</div>
                <div class="code_line"><br></div>
                <div class="code_line">  <span class="cpp_type">onto</span>::<span class="cpp_type">OntologyManipulator</span> <span class="cpp_var">onto</span>;</div>
                <div class="code_line">  <span class="cpp_var">onto_</span> = &amp;<span class="cpp_var">onto</span>;</div>
                <div class="code_line"><br></div>
                <div class="code_line">  <span class="cpp_var">onto</span>.<span class="cpp_function">close</span>();</div>
                <div class="code_line"><br></div>
                <div class="code_line">  <span class="cpp_comment">/*</span></div>
                <div class="code_line">  <span class="cpp_comment">We will find the route here</span></div>
                <div class="code_line">  <span class="cpp_comment">*/</span></div>
                <div class="code_line"><br></div>
                <div class="code_line">  <span class="cpp_op">return</span> <span class="cpp_value">0</span>;</div>
                <div class="code_line">}</div>
              </div>
            </div>
          </div>
          
          <div aria-labelledby="tab-0-Ros2" class="lang-tabs-panel group-tab" id="panel-0-Ros2" name="Ros2" role="tabpanel" tabindex="0" hidden="true">
            <div class="highlight-python">
              <div class="code_block cpp_code" style="counter-reset:code_line 0;">
                <div class="code_line"><span class="cpp_include">#include</span> <span class="cpp_included">&lt;iostream&gt;</span></div>
                <div class="code_line"><span class="cpp_include">#include</span> <span class="cpp_included">&lt;vector&gt;</span></div>
                <div class="code_line"><span class="cpp_include">#include</span> <span class="cpp_included">&lt;string&gt;</span></div>
                <div class="code_line"><br></div>
                <div class="code_line"><span class="cpp_include">#include</span> <span class="cpp_included">&quot;rclcpp/rclcpp.hpp&quot;</span></div>
                <div class="code_line"><span class="cpp_include">#include</span> <span class="cpp_included">&quot;ontologenius/OntologyManipulator.h&quot;</span></div>
                <div class="code_line"><br></div>
                <div class="code_line"><span class="cpp_type">onto</span>::<span class="cpp_type">OntologyManipulator</span>* <span class="cpp_var">onto_</span>;</div>
                <div class="code_line"><br></div>
                <div class="code_line"><span class="cpp_key">void</span> <span class="cpp_function">displayRoute</span>(<span class="cpp_type">std</span>::<span class="cpp_type">vector</span>&lt;<span class="cpp_type">std</span>::<span class="cpp_type">string</span>&gt; <span class="cpp_var">route</span>)</div>
                <div class="code_line">{</div>
                <div class="code_line">  <span class="cpp_op">for</span>(<span class="cpp_key">auto&</span> <span class="cpp_var">path</span> : <span class="cpp_var">route</span>)</div>
                <div class="code_line">    <span class="cpp_type">std</span>::<span class="cpp_function">cout</span> &lt;&lt; <span class="cpp_var">path</span> &lt;&lt; <span class="cpp_string">&quot; - &quot;</span>;</div>
                <div class="code_line">  <span class="cpp_type">std</span>::<span class="cpp_function">cout</span> &lt;&lt; <span class="cpp_type">std</span>::<span class="cpp_function">endl</span>;</div>
                <div class="code_line">}</div>
                <div class="code_line"><br></div>
                <div class="code_line"><span class="cpp_key">int</span> <span class="cpp_function">main</span>(<span class="cpp_key">int</span> <span class="cpp_var">argc</span>, <span class="cpp_key">char**</span> <span class="cpp_var">argv</span>)</div>
                <div class="code_line">{</div>
                <div class="code_line">  <span class="cpp_type">rclcpp</span>::<span class="cpp_function">init</span>(<span class="cpp_var">argc</span>, <span class="cpp_var">argv</span>);</div>
                <div class="code_line"><br></div>
                <div class="code_line">  <span class="cpp_type">onto</span>::<span class="cpp_type">OntologyManipulator</span> <span class="cpp_var">onto</span>;</div>
                <div class="code_line">  <span class="cpp_var">onto_</span> = &amp;<span class="cpp_var">onto</span>;</div>
                <div class="code_line"><br></div>
                <div class="code_line">  <span class="cpp_var">onto</span>.<span class="cpp_function">close</span>();</div>
                <div class="code_line"><br></div>
                <div class="code_line">  <span class="cpp_comment">/*</span></div>
                <div class="code_line">  <span class="cpp_comment">We will find the route here</span></div>
                <div class="code_line">  <span class="cpp_comment">*/</span></div>
                <div class="code_line"><br></div>
                <div class="code_line">  <span class="cpp_op">return</span> <span class="cpp_value">0</span>;</div>
                <div class="code_line">}</div>
              </div>
            </div>
          </div>
        </div>

        <p class="tip">We can notice the presence of the ontology manipulator as well as its pointer as
          in the previous tutorial.</p>

        <div class="code_block cpp_code" style="counter-reset:code_line 0;">
          <div class="code_line"><span class="cpp_type">std</span>::<span class="cpp_type">vector</span>&lt;<span class="cpp_type">std</span>::<span class="cpp_type">vector</span>&lt;<span class="cpp_type">std</span>::<span class="cpp_type">string</span>&gt; &gt; <span class="cpp_function">findRoutes</span>(<span class="cpp_key">const</span> <span class="cpp_type">std</span>::<span class="cpp_type">string</span><span class="cpp_key">&amp;</span> <span class="cpp_var">path_from</span>, <span class="cpp_key">const</span> <span class="cpp_type">std</span>::<span class="cpp_type">string</span><span class="cpp_key">&amp;</span> <span class="cpp_var">path_to</span>)</div>
          <div class="code_line">{</div>
          <div class="code_line">  <span class="cpp_key">bool</span> <span class="cpp_var">found</span> = <span class="cpp_key">false</span>;</div>
          <div class="code_line"><br></div>
          <div class="code_line">  <span class="cpp_type">std</span>::<span class="cpp_type">vector</span>&lt;<span class="cpp_type">std</span>::<span class="cpp_type">string</span>&gt; <span class="cpp_var">tmp</span> = { <span class="cpp_var">path_from</span> };</div>
          <div class="code_line">  <span class="cpp_type">std</span>::<span class="cpp_type">vector</span>&lt;<span class="cpp_type">std</span>::<span class="cpp_type">vector</span>&lt;<span class="cpp_type">std</span>::<span class="cpp_type">string</span>&gt; &gt; <span class="cpp_var">routes</span> = { <span class="cpp_var">tmp</span> };</div>
          <div class="code_line"><br></div>
          <div class="code_line">  <span class="cpp_op">if</span>(<span class="cpp_var">path_from</span> == <span class="cpp_var">path_to</span>)</div>
          <div class="code_line">    <span class="cpp_var">found</span> = <span class="cpp_key">true</span>;</div>
          <div class="code_line"><br></div>
          <div class="code_line">  <span class="cpp_op">while</span>(<span class="cpp_var">found</span> == <span class="cpp_key">false</span>)</div>
          <div class="code_line">  {</div>
          <div class="code_line">    <span class="cpp_type">std</span>::<span class="cpp_type">vector</span>&lt;<span class="cpp_type">std</span>::<span class="cpp_type">vector</span>&lt;<span class="cpp_type">std</span>::<span class="cpp_type">string</span>&gt; &gt; <span class="cpp_var">tmp_routes</span>;</div>
          <div class="code_line">    <span class="cpp_op">for</span>(<span class="cpp_key">auto&</span> <span class="cpp_var">route</span> : <span class="cpp_var">routes</span>)</div>
          <div class="code_line">    {</div>
          <div class="code_line">      <span class="cpp_type">std</span>::<span class="cpp_type">vector</span>&lt;<span class="cpp_type">std</span>::<span class="cpp_type">string</span>&gt; <span class="cpp_var">intersections</span> = <span class="cpp_var">onto_</span>-&gt;individuals.<span class="cpp_function">getFrom</span>(<span class="cpp_string">&quot;isAlong&quot;</span>, <span class="cpp_var">route</span>.<span class="cpp_function">back</span>());</div>
          <div class="code_line">      <span class="cpp_op">for</span>(<span class="cpp_key">auto&</span> <span class="cpp_var">intersection</span> : <span class="cpp_var">intersections</span>)</div>
          <div class="code_line">      {</div>
          <div class="code_line">        <span class="cpp_type">std</span>::<span class="cpp_type">vector</span>&lt;<span class="cpp_type">std</span>::<span class="cpp_type">string</span>&gt; <span class="cpp_var">paths</span> = <span class="cpp_var">onto_</span>-&gt;individuals.<span class="cpp_function">getOn</span>(<span class="cpp_var">intersection</span>, <span class="cpp_string">&quot;isAlong&quot;</span>);</div>
          <div class="code_line"><br></div>
          <div class="code_line">        <span class="cpp_comment">// erase paths already present in the current route</span></div>
          <div class="code_line">        <span class="cpp_op">for</span>(<span class="cpp_type">size_t</span> <span class="cpp_var">i</span> = <span class="cpp_value">0</span>; <span class="cpp_var">i</span> &lt; <span class="cpp_var">paths</span>.<span class="cpp_function">size</span>();)</div>
          <div class="code_line">          <span class="cpp_op">if</span>(<span class="cpp_type">std</span>::<span class="cpp_function">find</span>(<span class="cpp_var">route</span>.<span class="cpp_function">begin</span>(), <span class="cpp_var">route</span>.<span class="cpp_function">end</span>(), <span class="cpp_var">paths</span>[i]) != <span class="cpp_var">route</span>.<span class="cpp_function">end</span>())</div>
          <div class="code_line">            <span class="cpp_var">paths</span>.<span class="cpp_function">erase</span>(<span class="cpp_var">paths</span>.<span class="cpp_function">begin</span>() + <span class="cpp_var"><span class="cpp_var">i</span></span>);</div>
          <div class="code_line">          <span class="cpp_op">else</span></div>
          <div class="code_line">            <span class="cpp_var">i</span>++;</div>
          <div class="code_line"><br></div>
          <div class="code_line">        <span class="cpp_op">for</span>(<span class="cpp_key">auto&</span> <span class="cpp_var">path</span> : <span class="cpp_var">paths</span>)</div>
          <div class="code_line">        {</div>
          <div class="code_line">          <span class="cpp_var">tmp</span> = <span class="cpp_var">route</span>;</div>
          <div class="code_line">          <span class="cpp_var">tmp</span>.<span class="cpp_function">push_back</span>(<span class="cpp_var">intersection</span>);</div>
          <div class="code_line">          <span class="cpp_var">tmp</span>.<span class="cpp_function">push_back</span>(<span class="cpp_var">path</span>);</div>
          <div class="code_line">          <span class="cpp_var">tmp_routes</span>.<span class="cpp_function">push_back</span>(<span class="cpp_var">tmp</span>);</div>
          <div class="code_line">          <span class="cpp_op">if</span>(<span class="cpp_var">path</span> == <span class="cpp_var">path_to</span>)</div>
          <div class="code_line">            <span class="cpp_var">found</span> = <span class="cpp_key">true</span>;</div>
          <div class="code_line">        }</div>
          <div class="code_line">      }</div>
          <div class="code_line">    }</div>
          <div class="code_line">    <span class="cpp_var">routes</span>.<span class="cpp_function">swap</span>(<span class="cpp_var">tmp_routes</span>);</div>
          <div class="code_line">  }</div>
          <div class="code_line"><br></div>
          <div class="code_line">  <span class="cpp_op">return</span> <span class="cpp_var">routes</span>;</div>
          <div class="code_line">}</div>
        </div>

        <p>Well, it's just a breadth-first search but it's still not obvious. We will analyze this together
          because two lines are particularly interesting.</p>

        <div class="code_block cpp_code" style="counter-reset:code_line 0;">
          <div class="code_line"><span class="cpp_type">std</span>::<span class="cpp_type">vector</span>&lt;<span class="cpp_type">std</span>::<span class="cpp_type">vector</span>&lt;<span class="cpp_type">std</span>::<span class="cpp_type">string</span>&gt; &gt; <span class="cpp_function">findRoutes</span>(<span class="cpp_key">const</span> <span class="cpp_type">std</span>::<span class="cpp_type">string</span><span class="cpp_key">&amp;</span> <span class="cpp_var">path_from</span>, <span class="cpp_key">const</span> <span class="cpp_type">std</span>::<span class="cpp_type">string</span><span class="cpp_key">&amp;</span> <span class="cpp_var">path_to</span>)</div>
        </div>
        <p>Let's start with the beginning. This function was used to search for routes linking "path_from" to "path_to".</p>

        

        <div class="code_block cpp_code" style="counter-reset:code_line 4;">
          <div class="code_line">  <span class="cpp_type">std</span>::<span class="cpp_type">vector</span>&lt;<span class="cpp_type">std</span>::<span class="cpp_type">string</span>&gt; <span class="cpp_var">tmp</span> = { <span class="cpp_var">path_from</span> };</div>
          <div class="code_line">  <span class="cpp_type">std</span>::<span class="cpp_type">vector</span>&lt;<span class="cpp_type">std</span>::<span class="cpp_type">vector</span>&lt;<span class="cpp_type">std</span>::<span class="cpp_type">string</span>&gt; &gt; <span class="cpp_var">routes</span> = { <span class="cpp_var">tmp</span> };</div>
        </div>
        <p>"routes" represents a vector of routes since a route is itself a vector of string an we initialize it with a route only composed of the start path.</p>

        <div class="code_block cpp_code" style="counter-reset:code_line 12;">
          <div class="code_line">    <span class="cpp_type">std</span>::<span class="cpp_type">vector</span>&lt;<span class="cpp_type">std</span>::<span class="cpp_type">vector</span>&lt;<span class="cpp_type">std</span>::<span class="cpp_type">string</span>&gt; &gt; <span class="cpp_var">tmp_routes</span>;</div>
          <div class="code_line">    <span class="cpp_op">for</span>(<span class="cpp_key">auto&</span> <span class="cpp_var">route</span> : <span class="cpp_var">routes</span>)</div>
        </div>
        <p>Since we use a breadth-first search, we browse the set of current routes at each itteration and we
          rank the routes found at the current iteration in the variable tmp_routes.</p>

        <div class="code_block cpp_code" style="counter-reset:code_line 15;">
          <div class="code_line">      <span class="cpp_type">std</span>::<span class="cpp_type">vector</span>&lt;<span class="cpp_type">std</span>::<span class="cpp_type">string</span>&gt; <span class="cpp_var">intersections</span> = <span class="cpp_var">onto_</span>-&gt;individuals.<span class="cpp_function">getFrom</span>(<span class="cpp_string">&quot;isAlong&quot;</span>, <span class="cpp_var">route</span>.<span class="cpp_function">back</span>());</div>
        </div>
        <p><b>IMPORTANT:</b></p>
        <p>We can represent the use of a property like this: <span class="color_red">individual_1</span>
          <span class="color_green">property</span> <span class="color_blue">individual_2</span><br>
        In the case of our paths, it comes down to this: <span class="color_red">intersection_i</span>
        <span class="color_green">isAlong</span> <span class="color_blue">path_j</span></p>

        <p>The getFrom function returns all the <span class="color_red">red individuals</span> who apply the
          <span class="color_green">green property</span> to the <span class="color_blue">blue individual</span>.<br>
        That means in our case that we are going to have <span class="color_red">all of the individuals</span>
        <span class="color_green">along</span> the path <span class="color_blue">route.back()</span>.
        However, that means that we are going to have the intersections as well as the other elements, but that
        is not a big deal at the moment.</p>

        <p>Notice how with a single line we are able to retrieve accurate information from our knowledge base.</p>

        <div class="code_block cpp_code" style="counter-reset:code_line 16;">
          <div class="code_line">      <span class="cpp_op">for</span>(<span class="cpp_key">auto&</span> <span class="cpp_var">intersection</span> : <span class="cpp_var">intersections</span>)</div>
        </div>
        <p>We are now going through all of our intersections to see where they can lead us.</p>

        <div class="code_block cpp_code" style="counter-reset:code_line 18;">
          <div class="code_line">        <span class="cpp_type">std</span>::<span class="cpp_type">vector</span>&lt;<span class="cpp_type">std</span>::<span class="cpp_type">string</span>&gt; <span class="cpp_var">paths</span> = <span class="cpp_var">onto_</span>-&gt;individuals.<span class="cpp_function">getOn</span>(<span class="cpp_var">intersection</span>, <span class="cpp_string">&quot;isAlong&quot;</span>);</div>
        </div>
        <p><b>IMPORTANT:</b></p>
        <p>Let's take again the fact that: <span class="color_red">intersection_i</span>
        <span class="color_green">isAlong</span> <span class="color_blue">path_j</span></p>
        <p>The getOn function will make it possible to achieve the inverse of the getFrom function.
           We will retrieve the set of <span class="color_blue">blue individuals</span> that are connected to
           the <span class="color_red">red individual</span> by the <span class="color_green">green property</span>.
           In our case, we are going to have all the <span class="color_blue">paths</span> for which the
           intersection <span class="color_red">intersection</span> <span class="color_green">is along</span>.

        <div class="code_block cpp_code" style="counter-reset:code_line 27;">
          <div class="code_line">        <span class="cpp_op">for</span>(<span class="cpp_key">auto&</span> <span class="cpp_var">path</span> : <span class="cpp_var">paths</span>)</div>
        </div>
        <p>For all paths not already present in route_i, we create a new route which is the route_i plus the
          intersection leading to the new path as well as the new path.</p>

        <div class="code_block cpp_code" style="counter-reset:code_line 38;">
          <div class="code_line">    <span class="cpp_var">routes</span>.<span class="cpp_function">swap</span>(<span class="cpp_var">tmp_routes</span>);</div>
        </div>
        <p>At the end of the current iteration, the new routes of work become the current ones.</p>

        <h2>Find a route from one place to another</h2>

        <p>The preceding function can find paths from one path to another except that we want a single
          path from one place to another. The following algorithm is doing this. We will analyze it
          quickly together.</p>

        <div class="code_block cpp_code" style="counter-reset:code_line 44;">
          <div class="code_line"><span class="cpp_type">std</span>::<span class="cpp_type">vector</span>&lt;<span class="cpp_type">std</span>::<span class="cpp_type">string</span>&gt; <span class="cpp_function">find</span>(<span class="cpp_key">const</span> <span class="cpp_type">std</span>::<span class="cpp_type">string</span><span class="cpp_key">&</span> <span class="cpp_var">from</span>, <span class="cpp_key">const</span> <span class="cpp_type">std</span>::<span class="cpp_type">string</span><span class="cpp_key">&</span> <span class="cpp_var">to</span>)</div>
          <div class="code_line">{</div>
          <div class="code_line">  <span class="cpp_type">std</span>::<span class="cpp_type">vector</span>&lt;<span class="cpp_type">std</span>::<span class="cpp_type">string</span>&gt; <span class="cpp_var">best_route</span>;</div>
          <div class="code_line">  <span class="cpp_type">size_t</span> <span class="cpp_var">min_size</span> = -<span class="cpp_value">1</span>;</div>
          <div class="code_line"><br></div>
          <div class="code_line">  <span class="cpp_type">std</span>::<span class="cpp_type">vector</span>&lt;<span class="cpp_type">std</span>::<span class="cpp_type">string</span>&gt; <span class="cpp_var">paths_from</span> = <span class="cpp_var">onto_</span>-&gt;individuals.<span class="cpp_function">getOn</span>(<span class="cpp_var">from</span>, <span class="cpp_string">&quot;isAlong&quot;</span>);</div>
          <div class="code_line">  <span class="cpp_type">std</span>::<span class="cpp_type">vector</span>&lt;<span class="cpp_type">std</span>::<span class="cpp_type">string</span>&gt; <span class="cpp_var">paths_to</span> = <span class="cpp_var">onto_</span>-&gt;individuals.<span class="cpp_function">getFrom</span>(<span class="cpp_string">&quot;hasAlong&quot;</span>, <span class="cpp_var">to</span>);</div>
          <div class="code_line"><br></div>
          <div class="code_line">  <span class="cpp_op">for</span>(<span class="cpp_key">auto&</span> <span class="cpp_var">path_from</span> : <span class="cpp_var">paths_from</span>)</div>
          <div class="code_line">    <span class="cpp_op">for</span>(<span class="cpp_key">auto&</span> <span class="cpp_var">path_to</span> : <span class="cpp_var">paths_to</span>)</div>
          <div class="code_line">    {</div>
          <div class="code_line">      <span class="cpp_type">std</span>::<span class="cpp_type">vector</span>&lt;<span class="cpp_type">std</span>::<span class="cpp_type">vector</span>&lt;<span class="cpp_type">std</span>::<span class="cpp_type">string</span>&gt; &gt; <span class="cpp_var">routes</span> = <span class="cpp_function">findRoutes</span>(<span class="cpp_var">path_from</span>, <span class="cpp_var">path_to</span>);</div>
          <div class="code_line">      <span class="cpp_op">for</span>(<span class="cpp_key">auto&</span> <span class="cpp_var">route</span> : <span class="cpp_var">routes</span>)</div>
          <div class="code_line">        <span class="cpp_op">if</span>(<span class="cpp_var">route</span>.<span class="cpp_function">back</span>() == <span class="cpp_var">path_to</span>)</div>
          <div class="code_line">          <span class="cpp_op">if</span>(<span class="cpp_var">route</span>.<span class="cpp_function">size</span>() &lt; <span class="cpp_var">min_size</span>)</div>
          <div class="code_line">          {</div>
          <div class="code_line">            <span class="cpp_var">min_size</span> = <span class="cpp_var">route</span>.<span class="cpp_function">size</span>();</div>
          <div class="code_line">            <span class="cpp_var">best_route</span> = <span class="cpp_var">route</span>;</div>
          <div class="code_line">          }</div>
          <div class="code_line">    }</div>
          <div class="code_line"><br></div>
          <div class="code_line">  <span class="cpp_op">return</span> <span class="cpp_var">best_route</span>;</div>
          <div class="code_line">}</div>
        </div>

        <div class="code_block cpp_code" style="counter-reset:code_line 46;">
          <div class="code_line">  <span class="cpp_type">std</span>::<span class="cpp_type">vector</span>&lt;<span class="cpp_type">std</span>::<span class="cpp_type">string</span>&gt; <span class="cpp_var">best_route</span>;</div>
          <div class="code_line">  <span class="cpp_type">size_t</span> <span class="cpp_var">min_size</span> = -<span class="cpp_value">1</span>;</div>
        </div>
        <p>"best_route" is going to be our final route and "min_size" will allow us to find the road with the
          least steps.</p>
        <p class="tip">By setting "min_size" to -1 while its type is unsigned we have the largest size possible.</p>

        <div class="code_block cpp_code" style="counter-reset:code_line 49;">
          <div class="code_line">  <span class="cpp_type">std</span>::<span class="cpp_type">vector</span>&lt;<span class="cpp_type">std</span>::<span class="cpp_type">string</span>&gt; <span class="cpp_var">paths_from</span> = <span class="cpp_var">onto_</span>-&gt;individuals.<span class="cpp_function">getOn</span>(<span class="cpp_var">from</span>, <span class="cpp_string">&quot;isAlong&quot;</span>);</div>
          <div class="code_line">  <span class="cpp_type">std</span>::<span class="cpp_type">vector</span>&lt;<span class="cpp_type">std</span>::<span class="cpp_type">string</span>&gt; <span class="cpp_var">paths_to</span> = <span class="cpp_var">onto_</span>-&gt;individuals.<span class="cpp_function">getFrom</span>(<span class="cpp_string">&quot;hasAlong&quot;</span>, <span class="cpp_var">to</span>);</div>
        </div>
        <p>Now that you know the getOn and getFrom functions, you should understand what we are doing here.
        In fact, these two lines do exactly the same thing but in two different places (from and to).
        Indeed, hasAlong is the inverse property of isAlong or getOn is the inverse function of getFrom,
        so these two lines return to the same.</p>
        <p>For each one of the places from and to we recover the paths of which they are along.</p>

        <p>In the rest of the algorithm, we perform a search from the start path to the end path and only
          take the paths that actually lead to the end path and have a size smaller than the last shortest
          route found.</p>

        <h2>Update the main function</h2>

        <p>We can finally add the following lines in our main function to realize the path search for the
          three bob's itineraries.</p>

        <div class="code_block cpp_code" style="counter-reset:code_line 73;">
          <div class="code_line"><span class="cpp_type">std</span>::<span class="cpp_type">vector</span>&lt;<span class="cpp_type">std</span>::<span class="cpp_type">string</span>&gt; <span class="cpp_var">route</span>;</div>
          <div class="code_line"><br></div>
          <div class="code_line"><span class="cpp_var">route</span> = <span class="cpp_function">find</span>(<span class="cpp_string">&quot;pub&quot;</span>, <span class="cpp_string">&quot;house&quot;</span>);</div>
          <div class="code_line"><span class="cpp_function">displayRoute</span>(<span class="cpp_var">route</span>);</div>
          <div class="code_line"><br></div>
          <div class="code_line"><span class="cpp_var">route</span> = <span class="cpp_function">find</span>(<span class="cpp_string">&quot;house&quot;</span>, <span class="cpp_string">&quot;car&quot;</span>);</div>
          <div class="code_line"><span class="cpp_function">displayRoute</span>(<span class="cpp_var">route</span>);</div>
          <div class="code_line"><br></div>
          <div class="code_line"><span class="cpp_var">route</span> = <span class="cpp_function">find</span>(<span class="cpp_string">&quot;car&quot;</span>, <span class="cpp_string">&quot;house&quot;</span>);</div>
          <div class="code_line"><span class="cpp_function">displayRoute</span>(<span class="cpp_var">route</span>);</div>
        </div>

        <p>Compile and launch the program. You should have the following result:</p>
        <div class="code_block">
          <div class="terminal_line">road_2 - int_7 - pp_4 - int_12 - road_3 -</div>
          <div class="terminal_line">road_3 - int_11 - pp_3 - int_10 - road_4 -</div>
          <div class="terminal_line">road_4 - int_10 - pp_3 - int_11 - road_3 -</div>
        </div>

        <nav class="course-pagination">
          <a href="Presentation.html" class="course-pagination__btn">
            <i class="fas fa-angle-left"></i>
            <span>Presentation of the problem</span>
          </a>
          <span class="course-pagination__separator"></span>
          <a href="UnderstandOurEnvironment.html" class="course-pagination__btn">
            <span>Better understand our environment</span>
            <i class="fas fa-angle-right"></i>
          </a>
        </nav>

      </div>
    </div>

  </div>
</body>

<footer>
  <div align="center">
    <p>
      Brought to you by:
      <a class="laas_logo" href="https://www.laas.fr/public/">
        <img src="../../images/LogoLAAS-2016_BW.png " alt="LAAS-CNRS" height="60px"/>
      </a>
    </p>
  </div>
</footer>

</html>
